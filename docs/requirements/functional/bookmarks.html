<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-requirements/functional/bookmarks" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Bookmarks | Browser Dashboard PWA</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://migmolrod.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://migmolrod.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://migmolrod.github.io/docs/requirements/functional/bookmarks"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Bookmarks | Browser Dashboard PWA"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://migmolrod.github.io/docs/requirements/functional/bookmarks"><link data-rh="true" rel="alternate" href="https://migmolrod.github.io/docs/requirements/functional/bookmarks" hreflang="en"><link data-rh="true" rel="alternate" href="https://migmolrod.github.io/docs/requirements/functional/bookmarks" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Bookmarks","item":"https://migmolrod.github.io/docs/requirements/functional/bookmarks"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Browser Dashboard PWA RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Browser Dashboard PWA Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e98d30eb.css">
<script src="/assets/js/runtime~main.b5f7f95c.js" defer="defer"></script>
<script src="/assets/js/main.96958804.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_ZENM" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Browser Dashboard PWA Logo" class="themedComponent_ZSly themedComponent--light_ac4g"><img src="/img/logo.svg" alt="Browser Dashboard PWA Logo" class="themedComponent_ZSly themedComponent--dark_geaY"></div><b class="navbar__title text--truncate">Home</b></a><a class="navbar__item navbar__link" href="/docs/domain/overview">DMD</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/requirements/overview">SRS</a><a class="navbar__item navbar__link" href="/docs/architecture/overview">SAD</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/migmolrod/browser-dashboard-pwa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_j3rN"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_dfOL colorModeToggle_OMHc"><button class="clean-btn toggleButton_sYJK toggleButtonDisabled_uhoL" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_DOsv lightToggleIcon_cRsD"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_DOsv darkToggleIcon_dhlZ"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_DOsv systemToggleIcon_De7l"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_n3EO"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_Cmuq"><div class="docsWrapper_qr6I"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_PPUa" type="button"></button><div class="docRoot_mfoW"><aside class="theme-doc-sidebar-container docSidebarContainer_ag_q"><div class="sidebarViewport_BDDu"><div class="sidebar_ioLr"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_u_pe"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/requirements/overview"><span title="Requirements overview" class="linkLabel_dWUb">Requirements overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/requirements/templates"><span title="Templates" class="linkLabel_dWUb">Templates</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/requirements/business-requirements"><span title="Business requirements" class="linkLabel_dWUb">Business requirements</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_wRzA menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/requirements/functional/dashboard-management"><span title="Functional requirements" class="categoryLinkLabel_gvR2">Functional requirements</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/requirements/functional/dashboard-management"><span title="Dashboard Management" class="linkLabel_dWUb">Dashboard Management</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/requirements/functional/bookmarks"><span title="Bookmarks" class="linkLabel_dWUb">Bookmarks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/requirements/functional/tasks"><span title="Tasks" class="linkLabel_dWUb">Tasks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/requirements/functional/calendar"><span title="Calendar" class="linkLabel_dWUb">Calendar</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/requirements/functional/weather"><span title="Weather" class="linkLabel_dWUb">Weather</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/requirements/functional/user-identity"><span title="User identity" class="linkLabel_dWUb">User identity</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/requirements/functional/preferences"><span title="Preferences" class="linkLabel_dWUb">Preferences</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/requirements/functional/synchronization"><span title="Synchronization" class="linkLabel_dWUb">Synchronization</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/requirements/non-functional-requirements"><span title="Non-Functional requirements" class="linkLabel_dWUb">Non-Functional requirements</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/requirements/user-stories"><span title="User Stories" class="linkLabel_dWUb">User Stories</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/requirements/system-requirements"><span title="System requirements" class="linkLabel_dWUb">System requirements</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_j2Zb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_spGC"><div class="docItemContainer_nKy5"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_rpXH" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Y6Bx"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Functional requirements</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Bookmarks</span></li></ul></nav><div class="tocCollapsible_jwPn theme-doc-toc-mobile tocMobile_A1u9"><button type="button" class="clean-btn tocCollapsibleButton_Dmq1">On this page</button></div><div class="theme-doc-markdown markdown"><div class="reqMetadata_OnDx"><div><strong>Status: </strong><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></div><span><strong>Last updated</strong>: <!-- -->November 16, 2025</span></div>
<header><h1>Bookmarks</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_eVCZ" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>The Bookmarks bounded context manages hierarchical bookmarks (folders and links) and provides quick-access features like
speed dial. It handles the complete lifecycle of bookmark organization, from creation to deletion, while maintaining
folder tree integrity and supplying bookmark data to dashboard widgets.</p>
<p><strong>Bounded context code:</strong> BKM<br>
<strong>Related DMD section:</strong> <a class="" href="/docs/domain/bounded-contexts/bookmarks">Bookmarks (Supporting)</a></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_eVCZ" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h3>
<table><thead><tr><th>Feature Code</th><th>Feature Name</th><th>Priority</th><th>Status</th></tr></thead><tbody><tr><td>FR-BKM-001</td><td>Folder Management</td><td><span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-002</td><td>Bookmark Management</td><td><span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-003</td><td>Bookmark Organization</td><td><span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-004</td><td>Bookmark Reordering</td><td><span class="priorityLabel_hNWY priorityLabelShouldHave_iftn">Should Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-005</td><td>Pin/Favorite Management</td><td><span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-006</td><td>Bookmark Search</td><td><span class="priorityLabel_hNWY priorityLabelShouldHave_iftn">Should Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-007</td><td>Icon/Favicon Management</td><td><span class="priorityLabel_hNWY priorityLabelShouldHave_iftn">Should Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-008</td><td>Speed Dial</td><td><span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr><tr><td>FR-BKM-009</td><td>Bookmark Import/Export</td><td><span class="priorityLabel_hNWY priorityLabelCouldHave_Pzg7">Could Have</span></td><td><span class="reqStatus_It10 reqStatusDraft_r86d">Draft</span></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-001-folder-management">FR-BKM-001: Folder management<a href="#fr-bkm-001-folder-management" class="hash-link" aria-label="Direct link to FR-BKM-001: Folder management" title="Direct link to FR-BKM-001: Folder management" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></p>
<p><strong>Description:</strong>
Users must be able to create, rename, and delete folders to organize their bookmarks hierarchically. Folders serve as
containers for both bookmarks and other folders (nested hierarchy), enabling flexible organization.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">User must have a root folder (created on user registration)</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Folder is created/renamed/deleted</li>
<li class="">Folder tree structure is maintained</li>
<li class="">FolderCreated/FolderRenamed/FolderDeleted event is published</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Each user has a root folder (automatically created on registration)</li>
<li class="">Folder names must be unique within the same parent folder</li>
<li class="">Folder names must be non-empty and length-bounded (1-100 characters)</li>
<li class="">Folders can be nested (support for hierarchical structure)</li>
<li class="">Empty folders can be deleted directly</li>
<li class="">Non-empty folders require confirmation and cascade deletion of contents</li>
<li class="">Root folder cannot be deleted or renamed</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Folder (root aggregate)</li>
<li class="">Domain Events: FolderCreated, FolderRenamed, FolderDeleted, UserRegistered (consumed)</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">User Identity context (Conformist relationship)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">User can create a new folder within any existing folder</li>
<li class="">Folder is assigned a unique FolderId</li>
<li class="">Folder name is validated for uniqueness within parent</li>
<li class="">FolderCreated event is published with folderId, name, and parentId</li>
<li class="">User can rename folders (except root)</li>
<li class="">Renamed folder maintains its position and child elements</li>
<li class="">FolderRenamed event is published with folderId and new name</li>
<li class="">User can delete empty folders</li>
<li class="">Deletion of non-empty folders prompts confirmation and cascades</li>
<li class="">FolderDeleted event is published with folderId</li>
<li class="">Folder tree structure remains consistent after all operations</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-001-001: Create a new folder</li>
<li class="">US-BKM-001-002: Rename a folder</li>
<li class="">US-BKM-001-003: Delete an empty folder</li>
<li class="">US-BKM-001-004: Delete a folder with contents (cascade)</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios">Scenarios<a href="#scenarios" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-create-a-new-folder-happy-path">Scenario 1: Create a new folder (happy path)<a href="#scenario-1-create-a-new-folder-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Create a new folder (happy path)" title="Direct link to Scenario 1: Create a new folder (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is viewing their bookmarks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;New Folder&quot; within the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And enters the name &quot;Projects&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And confirms creation</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a new folder named &quot;Projects&quot; is created</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the folder is placed within &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a FolderCreated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the folder appears in the folder tree</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-create-a-folder-with-a-duplicate-name">Scenario 2: Create a folder with a duplicate name<a href="#scenario-2-create-a-folder-with-a-duplicate-name" class="hash-link" aria-label="Direct link to Scenario 2: Create a folder with a duplicate name" title="Direct link to Scenario 2: Create a folder with a duplicate name" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a folder named &quot;Personal&quot; in the root folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user attempts to create another folder named &quot;Personal&quot; in the root folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then validation fails</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an error message indicates the name already exists at this level</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the folder is not created</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no FolderCreated event is published</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-rename-folder">Scenario 3: Rename folder<a href="#scenario-3-rename-folder" class="hash-link" aria-label="Direct link to Scenario 3: Rename folder" title="Direct link to Scenario 3: Rename folder" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a folder named &quot;Temp&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Rename&quot; on the folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And changes the name to &quot;Archive&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And confirms the change</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the folder name is updated to &quot;Archive&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a FolderRenamed event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And all child elements remain intact</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the folder&#x27;s position in the tree is unchanged</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-delete-empty-folder">Scenario 4: Delete empty folder<a href="#scenario-4-delete-empty-folder" class="hash-link" aria-label="Direct link to Scenario 4: Delete empty folder" title="Direct link to Scenario 4: Delete empty folder" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has an empty folder named &quot;Old&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Delete&quot; on the folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a simple confirmation dialog appears</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And upon confirmation, the folder is deleted</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a FolderDeleted event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the folder is removed from the folder tree</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-5-delete-a-folder-with-contents-cascade">Scenario 5: Delete a folder with contents (cascade)<a href="#scenario-5-delete-a-folder-with-contents-cascade" class="hash-link" aria-label="Direct link to Scenario 5: Delete a folder with contents (cascade)" title="Direct link to Scenario 5: Delete a folder with contents (cascade)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a folder named &quot;Archive&quot; containing 5 bookmarks and 2 subfolders</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Delete&quot; on the folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a warning dialog appears indicating the folder contains items</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the dialog shows the count of items that will be deleted</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And upon confirmation, the folder and all contents are deleted</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And FolderDeleted events are published for the folder and subfolders</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And BookmarkDeleted events are published for all bookmarks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the entire subtree is removed</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-6-attempt-to-rename-to-duplicate-name">Scenario 6: Attempt to rename to duplicate name<a href="#scenario-6-attempt-to-rename-to-duplicate-name" class="hash-link" aria-label="Direct link to Scenario 6: Attempt to rename to duplicate name" title="Direct link to Scenario 6: Attempt to rename to duplicate name" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has two folders in root: &quot;Personal&quot; and &quot;Work&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user attempts to rename &quot;Personal&quot; to &quot;Work&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then validation fails</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an error message indicates the name already exists at this level</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the folder name remains unchanged</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no FolderRenamed event is published</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-7-create-the-root-folder-on-user-registration">Scenario 7: Create the root folder on user registration<a href="#scenario-7-create-the-root-folder-on-user-registration" class="hash-link" aria-label="Direct link to Scenario 7: Create the root folder on user registration" title="Direct link to Scenario 7: Create the root folder on user registration" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a new user has just registered</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the system processes the UserRegistered event</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a root folder is automatically created for the user</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the root folder has a system-defined name (e.g., &quot;Bookmarks&quot; or &quot;Root&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a FolderCreated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the user&#x27;s bookmark tree is initialized</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Folder hierarchy should be stored with parent-child relationships (parentId reference)</li>
<li class="">Consider limiting nesting depth (e.g., max 10 levels) to prevent performance issues</li>
<li class="">Implement efficient tree traversal algorithms for large folder structures</li>
<li class="">Cascade deletion should be transactional (all or nothing)</li>
<li class="">Consider implementing soft delete for recovery purposes (future)</li>
<li class="">Use optimistic locking for concurrent folder modifications</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should there be a maximum nesting depth?</li>
<li class="">Should deleted folders be recoverable (trash/recycle bin)?</li>
<li class="">Should folder sharing between users be supported (future)?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-002-bookmark-management">FR-BKM-002: Bookmark management<a href="#fr-bkm-002-bookmark-management" class="hash-link" aria-label="Direct link to FR-BKM-002: Bookmark management" title="Direct link to FR-BKM-002: Bookmark management" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></p>
<p><strong>Description:</strong>
Users must be able to create, edit, and delete bookmarks. Each bookmark consists of a title, URL, optional icon/favicon,
and belongs to exactly one folder.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">At least one folder must exist</li>
<li class="">For editing/deleting: bookmark must exist</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Bookmark is created/updated/deleted</li>
<li class="">Bookmark is associated with a folder</li>
<li class="">BookmarkCreated/BookmarkUpdated/BookmarkDeleted event is published</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Each bookmark must belong to exactly one folder</li>
<li class="">URLs must be valid and non-empty</li>
<li class="">URL format must be validated (http/https protocol)</li>
<li class="">Bookmark titles must be non-empty and length-bounded (1-200 characters)</li>
<li class="">Each bookmark has a unique BookmarkId</li>
<li class="">Favicon/icon is optional and can be auto-fetched or manually uploaded</li>
<li class="">Bookmarks can be moved between folders</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Bookmark, Folder (parent aggregate)</li>
<li class="">Domain Events: BookmarkCreated, BookmarkUpdated, BookmarkDeleted</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-001 (Folder must exist)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">User can create a bookmark with URL and title</li>
<li class="">URL is validated for proper format</li>
<li class="">Bookmark is assigned a unique BookmarkId</li>
<li class="">Bookmark is placed in the specified folder</li>
<li class="">BookmarkCreated event is published</li>
<li class="">User can edit bookmark title and URL</li>
<li class="">URL validation is applied on edit</li>
<li class="">BookmarkUpdated event is published</li>
<li class="">User can delete bookmarks</li>
<li class="">Confirmation is required before deletion</li>
<li class="">BookmarkDeleted event is published</li>
<li class="">Deleted bookmark is removed from its folder</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-002-001: Create a new bookmark</li>
<li class="">US-BKM-002-002: Edit a bookmark</li>
<li class="">US-BKM-002-003: Delete a bookmark</li>
<li class="">US-BKM-002-004: Move a bookmark to another folder</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-1">Scenarios<a href="#scenarios-1" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-create-new-bookmark-happy-path">Scenario 1: Create new bookmark (happy path)<a href="#scenario-1-create-new-bookmark-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Create new bookmark (happy path)" title="Direct link to Scenario 1: Create new bookmark (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is viewing the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Add Bookmark&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And enters the URL &quot;https://github.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And enters the title &quot;GitHub&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And confirms creation</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a new bookmark is created</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is placed in the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the favicon is automatically fetched from the URL</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkCreated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark appears in the folder</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-create-bookmark-with-invalid-url">Scenario 2: Create bookmark with invalid URL<a href="#scenario-2-create-bookmark-with-invalid-url" class="hash-link" aria-label="Direct link to Scenario 2: Create bookmark with invalid URL" title="Direct link to Scenario 2: Create bookmark with invalid URL" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is creating a bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user enters an invalid URL &quot;not-a-url&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And attempts to save</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then URL validation fails</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an error message indicates the URL format is invalid</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is not created</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no BookmarkCreated event is published</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-edit-bookmark">Scenario 3: Edit bookmark<a href="#scenario-3-edit-bookmark" class="hash-link" aria-label="Direct link to Scenario 3: Edit bookmark" title="Direct link to Scenario 3: Edit bookmark" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a bookmark with title &quot;Old Title&quot; and URL &quot;https://old-url.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Edit&quot; on the bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And changes the title to &quot;New Title&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And changes the URL to &quot;https://new-url.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And confirms the changes</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark is updated with the new values</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the favicon is refreshed from the new URL</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark position remains unchanged</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-delete-bookmark">Scenario 4: Delete bookmark<a href="#scenario-4-delete-bookmark" class="hash-link" aria-label="Direct link to Scenario 4: Delete bookmark" title="Direct link to Scenario 4: Delete bookmark" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a bookmark in the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Delete&quot; on the bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a confirmation dialog appears</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And upon confirmation, the bookmark is deleted</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkDeleted event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is removed from the folder</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-5-move-bookmark-to-another-folder">Scenario 5: Move bookmark to another folder<a href="#scenario-5-move-bookmark-to-another-folder" class="hash-link" aria-label="Direct link to Scenario 5: Move bookmark to another folder" title="Direct link to Scenario 5: Move bookmark to another folder" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a bookmark in the &quot;Personal&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user drags the bookmark to the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark is moved to the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published indicating folder change</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark appears in the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is removed from the &quot;Personal&quot; folder</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-6-create-bookmark-without-title">Scenario 6: Create bookmark without title<a href="#scenario-6-create-bookmark-without-title" class="hash-link" aria-label="Direct link to Scenario 6: Create bookmark without title" title="Direct link to Scenario 6: Create bookmark without title" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is creating a bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user enters a URL &quot;https://example.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">**But** leaves the title field empty</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And attempts to save</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then validation fails</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an error message indicates the title is required</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is not created</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no BookmarkCreated event is published</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-7-auto-fetch-favicon-fails">Scenario 7: Auto-fetch favicon fails<a href="#scenario-7-auto-fetch-favicon-fails" class="hash-link" aria-label="Direct link to Scenario 7: Auto-fetch favicon fails" title="Direct link to Scenario 7: Auto-fetch favicon fails" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user creates a bookmark with URL &quot;https://no-favicon.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the favicon auto-fetch fails</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a default icon is assigned to the bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is created successfully</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkCreated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the user can later upload a custom icon</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">URL validation should check protocol (http/https), domain, and basic format</li>
<li class="">Consider implementing URL normalization (remove trailing slashes, lowercase domain)</li>
<li class="">Favicon fetching should be asynchronous and non-blocking</li>
<li class="">Implement retry logic for favicon fetching</li>
<li class="">Consider caching favicons to reduce external requests</li>
<li class="">Use optimistic locking for concurrent bookmark updates</li>
<li class="">Ensure bookmark URLs are XSS-safe (sanitize inputs)</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should duplicate URLs be allowed in the same folder?</li>
<li class="">Should there be a character limit for URLs (e.g., 2000 characters)?</li>
<li class="">Should bookmark descriptions be added (future)?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-003-bookmark-organization">FR-BKM-003: Bookmark organization<a href="#fr-bkm-003-bookmark-organization" class="hash-link" aria-label="Direct link to FR-BKM-003: Bookmark organization" title="Direct link to FR-BKM-003: Bookmark organization" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></p>
<p><strong>Description:</strong>
Users must be able to organize bookmarks by moving them between folders and maintaining a logical structure. This
feature complements folder and bookmark management by enabling flexible reorganization.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">Bookmark must exist</li>
<li class="">Target folder must exist</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Bookmark is moved to target folder</li>
<li class="">Folder tree structure is maintained</li>
<li class="">BookmarkUpdated event is published</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">A bookmark can only belong to one folder at a time</li>
<li class="">Moving a bookmark updates its parent folder reference</li>
<li class="">Moving a bookmark does not change its position within the new folder (appended to end)</li>
<li class="">Bookmarks can be moved to any folder (except implicitly invalid moves)</li>
<li class="">Moving operations must be atomic</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Bookmark, Folder</li>
<li class="">Domain Events: BookmarkUpdated</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-001 (Folders must exist)</li>
<li class="">FR-BKM-002 (Bookmark must exist)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">User can move a bookmark to a different folder via drag-and-drop</li>
<li class="">User can move a bookmark via context menu &quot;Move to...&quot;</li>
<li class="">Target folder is validated before move</li>
<li class="">Bookmark is removed from source folder</li>
<li class="">Bookmark is added to target folder</li>
<li class="">BookmarkUpdated event is published with folder change</li>
<li class="">Bookmark order is preserved in source folder (remaining bookmarks shift)</li>
<li class="">Bookmark is appended to end of target folder</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-003-001: Move bookmark via drag-and-drop</li>
<li class="">US-BKM-003-002: Move bookmark via context menu</li>
<li class="">US-BKM-003-003: Move multiple bookmarks at once (future)</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-2">Scenarios<a href="#scenarios-2" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-move-bookmark-via-drag-and-drop-happy-path">Scenario 1: Move bookmark via drag-and-drop (happy path)<a href="#scenario-1-move-bookmark-via-drag-and-drop-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Move bookmark via drag-and-drop (happy path)" title="Direct link to Scenario 1: Move bookmark via drag-and-drop (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a bookmark in the &quot;Personal&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user drags the bookmark over the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And releases the mouse button</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark is moved to the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark appears at the end of the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is removed from the &quot;Personal&quot; folder</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-move-bookmark-via-context-menu">Scenario 2: Move bookmark via context menu<a href="#scenario-2-move-bookmark-via-context-menu" class="hash-link" aria-label="Direct link to Scenario 2: Move bookmark via context menu" title="Direct link to Scenario 2: Move bookmark via context menu" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user right-clicks a bookmark in the &quot;Personal&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Move to...&quot; from the context menu</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And selects &quot;Work&quot; folder from the folder list</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark is moved to the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark appears at the end of the &quot;Work&quot; folder</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-cancel-drag-operation">Scenario 3: Cancel drag operation<a href="#scenario-3-cancel-drag-operation" class="hash-link" aria-label="Direct link to Scenario 3: Cancel drag operation" title="Direct link to Scenario 3: Cancel drag operation" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user starts dragging a bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user presses the ESC key before releasing</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the drag operation is cancelled</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark remains in its original folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no BookmarkUpdated event is published</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-drop-bookmark-on-invalid-target">Scenario 4: Drop bookmark on invalid target<a href="#scenario-4-drop-bookmark-on-invalid-target" class="hash-link" aria-label="Direct link to Scenario 4: Drop bookmark on invalid target" title="Direct link to Scenario 4: Drop bookmark on invalid target" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is dragging a bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user releases the bookmark outside any folder area</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark snaps back to its original position</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no move operation occurs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no BookmarkUpdated event is published</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Implement visual feedback during drag operations (ghost image, drop zones)</li>
<li class="">Use optimistic UI updates for perceived performance</li>
<li class="">Ensure atomic transaction for move operations</li>
<li class="">Consider implementing undo/redo for move operations</li>
<li class="">Drag-and-drop should work on both desktop and touch devices</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should there be a limit on how many bookmarks can be moved at once?</li>
<li class="">Should move operations support undo?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-004-bookmark-reordering">FR-BKM-004: Bookmark reordering<a href="#fr-bkm-004-bookmark-reordering" class="hash-link" aria-label="Direct link to FR-BKM-004: Bookmark reordering" title="Direct link to FR-BKM-004: Bookmark reordering" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelShouldHave_iftn">Should Have</span></p>
<p><strong>Description:</strong>
Users should be able to reorder bookmarks within a folder to prioritize frequently used links or organize by preference.
Reordering provides stable, user-defined ordering independent of creation date or alphabetical sorting.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">Folder must contain at least two bookmarks</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Bookmark positions are updated within the folder</li>
<li class="">New order is persisted</li>
<li class="">BookmarkUpdated event is published (or BookmarkReordered if distinct)</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Bookmarks have a stable order within each folder</li>
<li class="">Reordering only affects bookmarks within the same folder</li>
<li class="">Order is user-defined (not alphabetical or date-based by default)</li>
<li class="">Reordering must be atomic</li>
<li class="">Order positions are total (no gaps)</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Bookmark, Folder</li>
<li class="">Domain Events: BookmarkUpdated (or BookmarkReordered)</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-002 (Bookmarks must exist)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">User can drag-and-drop bookmarks to reorder them within a folder</li>
<li class="">Visual feedback shows the bookmark being dragged</li>
<li class="">Drop zones between bookmarks are indicated</li>
<li class="">Bookmark order is updated when dropped</li>
<li class="">Other bookmarks shift to accommodate the moved bookmark</li>
<li class="">BookmarkUpdated event is published with new position</li>
<li class="">Order is persisted immediately</li>
<li class="">Reordering can be cancelled (ESC key or drop outside)</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-004-001: Reorder bookmarks via drag-and-drop</li>
<li class="">US-BKM-004-002: Cancel reorder operation</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-3">Scenarios<a href="#scenarios-3" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-reorder-bookmarks-via-drag-and-drop-happy-path">Scenario 1: Reorder bookmarks via drag-and-drop (happy path)<a href="#scenario-1-reorder-bookmarks-via-drag-and-drop-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Reorder bookmarks via drag-and-drop (happy path)" title="Direct link to Scenario 1: Reorder bookmarks via drag-and-drop (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a folder contains bookmarks in order: A, B, C, D</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user drags bookmark D to the position between A and B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then bookmark D is visually lifted and follows the cursor</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And drop zones between bookmarks are highlighted</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And when dropped, the order becomes: A, D, B, C</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the new order is persisted</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-move-bookmark-to-the-first-position">Scenario 2: Move bookmark to the first position<a href="#scenario-2-move-bookmark-to-the-first-position" class="hash-link" aria-label="Direct link to Scenario 2: Move bookmark to the first position" title="Direct link to Scenario 2: Move bookmark to the first position" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a folder contains bookmarks in order: A, B, C</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user drags bookmark C to the first position</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the order becomes: C, A, B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the change is persisted</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-cancel-reorder-operation">Scenario 3: Cancel reorder operation<a href="#scenario-3-cancel-reorder-operation" class="hash-link" aria-label="Direct link to Scenario 3: Cancel reorder operation" title="Direct link to Scenario 3: Cancel reorder operation" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user starts dragging a bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user presses the ESC key before dropping</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the drag operation is cancelled</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark returns to its original position</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no BookmarkUpdated event is published</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Store bookmark order as an explicit position field (integer)</li>
<li class="">Implement efficient reordering algorithm (update only affected positions)</li>
<li class="">Use smooth animations for drag-and-drop feedback</li>
<li class="">Support touch devices for reordering</li>
<li class="">Consider implementing keyboard-based reordering for accessibility</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should there be alternative reordering mechanisms (buttons, keyboard)?</li>
<li class="">Should automatic sorting options be provided (alphabetical, most-used)?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-005-pinfavorite-management">FR-BKM-005: Pin/favorite management<a href="#fr-bkm-005-pinfavorite-management" class="hash-link" aria-label="Direct link to FR-BKM-005: Pin/favorite management" title="Direct link to FR-BKM-005: Pin/favorite management" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></p>
<p><strong>Description:</strong>
Users must be able to pin or mark bookmarks as favorites for quick access via speed dial or prominent display. Pinned
bookmarks are highlighted and easily accessible regardless of their folder location.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">Bookmark must exist</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Bookmark pin status is updated</li>
<li class="">BookmarkPinned or BookmarkUnpinned event is published</li>
<li class="">Speed dial is updated (if applicable)</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Bookmarks can be pinned or unpinned independently of their folder location</li>
<li class="">Pinned bookmarks remain in their original folder</li>
<li class="">There may be a maximum number of pinned bookmarks (e.g., 12 for speed dial grid)</li>
<li class="">Pinning does not affect bookmark order within folder</li>
<li class="">Pinned bookmarks have a separate display area or visual indicator</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Bookmark</li>
<li class="">Domain Events: BookmarkPinned, BookmarkUnpinned</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-002 (Bookmark must exist)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">User can pin a bookmark via context menu or button</li>
<li class="">Pinned bookmark is marked with visual indicator</li>
<li class="">BookmarkPinned event is published</li>
<li class="">Pinned bookmark appears in speed dial</li>
<li class="">User can unpin a bookmark</li>
<li class="">BookmarkUnpinned event is published</li>
<li class="">Unpinned bookmark is removed from speed dial</li>
<li class="">Attempting to pin beyond maximum shows error message</li>
<li class="">Pinned status persists across sessions</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-005-001: Pin a bookmark</li>
<li class="">US-BKM-005-002: Unpin a bookmark</li>
<li class="">US-BKM-005-003: View pinned bookmarks in speed dial</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-4">Scenarios<a href="#scenarios-4" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-pin-a-bookmark-happy-path">Scenario 1: Pin a bookmark (happy path)<a href="#scenario-1-pin-a-bookmark-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Pin a bookmark (happy path)" title="Direct link to Scenario 1: Pin a bookmark (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a bookmark in the &quot;Work&quot; folder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is not currently pinned</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user right-clicks the bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And selects &quot;Pin to Speed Dial&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark is marked as pinned</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkPinned event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark appears in the speed dial</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a pin icon is displayed on the bookmark</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-unpin-a-bookmark">Scenario 2: Unpin a bookmark<a href="#scenario-2-unpin-a-bookmark" class="hash-link" aria-label="Direct link to Scenario 2: Unpin a bookmark" title="Direct link to Scenario 2: Unpin a bookmark" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a pinned bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user right-clicks the bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And selects &quot;Unpin from Speed Dial&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark is unmarked as pinned</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUnpinned event is published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is removed from the speed dial</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the pin icon is removed</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-attempt-to-pin-when-maximum-reached">Scenario 3: Attempt to pin when maximum reached<a href="#scenario-3-attempt-to-pin-when-maximum-reached" class="hash-link" aria-label="Direct link to Scenario 3: Attempt to pin when maximum reached" title="Direct link to Scenario 3: Attempt to pin when maximum reached" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has already pinned 12 bookmarks (maximum)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user attempts to pin another bookmark</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then an error message appears indicating the limit is reached</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the bookmark is not pinned</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no BookmarkPinned event is published</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-pin-status-persists-across-sessions">Scenario 4: Pin status persists across sessions<a href="#scenario-4-pin-status-persists-across-sessions" class="hash-link" aria-label="Direct link to Scenario 4: Pin status persists across sessions" title="Direct link to Scenario 4: Pin status persists across sessions" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has pinned 5 bookmarks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user logs out and logs back in</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the 5 bookmarks remain pinned</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And they appear in the speed dial</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the pin indicators are displayed</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Store pin status as a boolean field on Bookmark entity</li>
<li class="">Consider storing pin order for consistent speed dial layout</li>
<li class="">Implement maximum pin limit validation</li>
<li class="">Speed dial should update in real-time when bookmarks are pinned/unpinned</li>
<li class="">Consider implementing pin priority or custom ordering</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should pinned bookmarks have a custom order in speed dial?</li>
<li class="">Should the maximum number of pins be configurable?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-006-bookmark-search">FR-BKM-006: Bookmark search<a href="#fr-bkm-006-bookmark-search" class="hash-link" aria-label="Direct link to FR-BKM-006: Bookmark search" title="Direct link to FR-BKM-006: Bookmark search" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelShouldHave_iftn">Should Have</span></p>
<p><strong>Description:</strong>
Users should be able to search their bookmarks by title, URL, or folder name to quickly locate specific links. Search
provides fast access without manual navigation through folder hierarchy.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">User must have at least one bookmark</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Search results are displayed</li>
<li class="">Results are ranked by relevance</li>
<li class="">Search can be cleared to return to folder view</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Search is case-insensitive</li>
<li class="">Search matches partial strings (substring matching)</li>
<li class="">Search includes bookmark titles, URLs, and folder names</li>
<li class="">Results show matching bookmarks regardless of folder location</li>
<li class="">Search results are updated in real-time as user types</li>
<li class="">Empty search returns all bookmarks or clears search</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Bookmark, Folder</li>
<li class="">Domain Events: None (read-only operation)</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-002 (Bookmarks must exist)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">User can enter search query in search field</li>
<li class="">Search results update in real-time as user types</li>
<li class="">Results show matching bookmarks with title and URL</li>
<li class="">Matching text is highlighted in results</li>
<li class="">Results show folder path for context</li>
<li class="">Clicking a result opens the bookmark</li>
<li class="">Search can be cleared to return to normal view</li>
<li class="">Empty search shows no results or all bookmarks</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-006-001: Search bookmarks by title</li>
<li class="">US-BKM-006-002: Search bookmarks by URL</li>
<li class="">US-BKM-006-003: Clear search</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-5">Scenarios<a href="#scenarios-5" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-search-bookmarks-by-title-happy-path">Scenario 1: Search bookmarks by title (happy path)<a href="#scenario-1-search-bookmarks-by-title-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Search bookmarks by title (happy path)" title="Direct link to Scenario 1: Search bookmarks by title (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has bookmarks with various titles</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user enters &quot;github&quot; in the search field</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then all bookmarks with &quot;github&quot; in the title are displayed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the matching text &quot;github&quot; is highlighted</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And each result shows the bookmark title, URL, and folder path</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And results update in real-time as the user types</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-search-bookmarks-by-url">Scenario 2: Search bookmarks by URL<a href="#scenario-2-search-bookmarks-by-url" class="hash-link" aria-label="Direct link to Scenario 2: Search bookmarks by URL" title="Direct link to Scenario 2: Search bookmarks by URL" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has bookmarks with various URLs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user enters &quot;stackoverflow.com&quot; in the search field</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then all bookmarks with &quot;stackoverflow.com&quot; in the URL are displayed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the matching text is highlighted in the URL</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And results show the folder location</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-no-search-results">Scenario 3: No search results<a href="#scenario-3-no-search-results" class="hash-link" aria-label="Direct link to Scenario 3: No search results" title="Direct link to Scenario 3: No search results" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user enters a search query</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When no bookmarks match the query</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a &quot;No results found&quot; message is displayed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the search field remains active</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the user can modify the query</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-clear-search">Scenario 4: Clear search<a href="#scenario-4-clear-search" class="hash-link" aria-label="Direct link to Scenario 4: Clear search" title="Direct link to Scenario 4: Clear search" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has entered a search query with results displayed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user clicks the &quot;Clear&quot; button</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the search field is cleared</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the normal folder view is restored</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And all bookmarks in the current folder are displayed</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-5-search-with-special-characters">Scenario 5: Search with special characters<a href="#scenario-5-search-with-special-characters" class="hash-link" aria-label="Direct link to Scenario 5: Search with special characters" title="Direct link to Scenario 5: Search with special characters" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has bookmarks with special characters in titles</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user searches for those special characters</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the search correctly handles and escapes special characters</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And matching bookmarks are displayed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no errors occur</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Implement debouncing for search input (e.g., 300ms) to reduce query load</li>
<li class="">Use full-text search or indexed search for performance</li>
<li class="">Consider implementing search result ranking (exact match &gt; starts with &gt; contains)</li>
<li class="">Highlight matching text using markup or CSS</li>
<li class="">Implement efficient search algorithm for large bookmark collections</li>
<li class="">Consider implementing search filters (folder, date added, pinned status)</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should search support regular expressions or advanced query syntax?</li>
<li class="">Should search history be saved?</li>
<li class="">Should search include bookmark tags/descriptions (future)?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-007-iconfavicon-management">FR-BKM-007: Icon/favicon management<a href="#fr-bkm-007-iconfavicon-management" class="hash-link" aria-label="Direct link to FR-BKM-007: Icon/favicon management" title="Direct link to FR-BKM-007: Icon/favicon management" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelShouldHave_iftn">Should Have</span></p>
<p><strong>Description:</strong>
The system should automatically fetch and display favicons for bookmarks, with the ability for users to manually upload
custom icons. Icons enhance visual recognition and improve user experience.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">Bookmark must exist</li>
<li class="">For auto-fetch: URL must be valid and accessible</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Favicon is fetched and stored</li>
<li class="">Bookmark displays the icon</li>
<li class="">Fallback icon is used if fetch fails</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Favicons are automatically fetched when bookmarks are created</li>
<li class="">Favicon fetching is asynchronous and non-blocking</li>
<li class="">Failed fetches use a default fallback icon</li>
<li class="">Users can manually upload custom icons (override auto-fetched)</li>
<li class="">Icon file size is limited (e.g., max 100KB)</li>
<li class="">Supported formats: PNG, JPG, ICO, SVG</li>
<li class="">Icons are cached to reduce external requests</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Bookmark</li>
<li class="">Domain Events: BookmarkUpdated (when icon changes)</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-002 (Bookmark must exist)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">Favicon is automatically fetched when bookmark is created</li>
<li class="">Fetching occurs in background (non-blocking)</li>
<li class="">Default icon is displayed during fetch</li>
<li class="">Fetched favicon replaces default when available</li>
<li class="">Failed fetches retain default icon</li>
<li class="">User can upload custom icon via bookmark settings</li>
<li class="">Uploaded icon replaces auto-fetched icon</li>
<li class="">Icon file size and format are validated</li>
<li class="">Icons are cached and reused for same domain</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-007-001: Auto-fetch favicon on bookmark creation</li>
<li class="">US-BKM-007-002: Upload custom icon</li>
<li class="">US-BKM-007-003: Revert to auto-fetched icon</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-6">Scenarios<a href="#scenarios-6" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-auto-fetch-favicon-on-bookmark-creation-happy-path">Scenario 1: Auto-fetch favicon on bookmark creation (happy path)<a href="#scenario-1-auto-fetch-favicon-on-bookmark-creation-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Auto-fetch favicon on bookmark creation (happy path)" title="Direct link to Scenario 1: Auto-fetch favicon on bookmark creation (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user creates a bookmark with URL &quot;https://github.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the bookmark is saved</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the system immediately displays a default icon</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the system asynchronously fetches the favicon from &quot;https://github.com/favicon.ico&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And when the fetch succeeds, the favicon replaces the default icon</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the favicon is cached for future use</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-favicon-fetch-fails">Scenario 2: Favicon fetch fails<a href="#scenario-2-favicon-fetch-fails" class="hash-link" aria-label="Direct link to Scenario 2: Favicon fetch fails" title="Direct link to Scenario 2: Favicon fetch fails" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user creates a bookmark with URL &quot;https://no-favicon-site.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the bookmark is saved</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the favicon fetch fails (404 or timeout)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the default icon is retained</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the fetch failure is logged</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the user can later upload a custom icon</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-upload-custom-icon">Scenario 3: Upload custom icon<a href="#scenario-3-upload-custom-icon" class="hash-link" aria-label="Direct link to Scenario 3: Upload custom icon" title="Direct link to Scenario 3: Upload custom icon" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a bookmark with an auto-fetched favicon</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user opens bookmark settings</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And selects &quot;Upload Custom Icon&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And uploads a PNG file (&lt; 100KB)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the file is validated for size and format</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the custom icon is stored</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the custom icon replaces the auto-fetched favicon</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-upload-invalid-icon-file">Scenario 4: Upload invalid icon file<a href="#scenario-4-upload-invalid-icon-file" class="hash-link" aria-label="Direct link to Scenario 4: Upload invalid icon file" title="Direct link to Scenario 4: Upload invalid icon file" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user attempts to upload a custom icon</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the file size exceeds 100KB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then validation fails</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an error message indicates the file is too large</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the icon is not uploaded</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the current icon remains unchanged</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-5-revert-to-auto-fetched-icon">Scenario 5: Revert to auto-fetched icon<a href="#scenario-5-revert-to-auto-fetched-icon" class="hash-link" aria-label="Direct link to Scenario 5: Revert to auto-fetched icon" title="Direct link to Scenario 5: Revert to auto-fetched icon" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has uploaded a custom icon</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Use Auto-Fetched Icon&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the custom icon is removed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the system re-fetches the favicon from the URL</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the auto-fetched icon is displayed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a BookmarkUpdated event is published</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Use a favicon service or library for reliable fetching (e.g., Google favicon service as fallback)</li>
<li class="">Implement retry logic with exponential backoff for failed fetches</li>
<li class="">Cache favicons by domain to avoid redundant fetches</li>
<li class="">Implement lazy loading for icons in large bookmark lists</li>
<li class="">Use image optimization (compression, resizing) for uploaded icons</li>
<li class="">Consider implementing icon versioning for cache invalidation</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should favicons be refreshed periodically?</li>
<li class="">Should there be a &quot;Refresh Icon&quot; option for users?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-008-speed-dial">FR-BKM-008: Speed dial<a href="#fr-bkm-008-speed-dial" class="hash-link" aria-label="Direct link to FR-BKM-008: Speed dial" title="Direct link to FR-BKM-008: Speed dial" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelMustHave_fw2O">Must Have</span></p>
<p><strong>Description:</strong>
Users must be able to view their pinned bookmarks in a visual grid (speed dial) for quick access. Speed dial provides a
Chrome-like new tab experience with favorite bookmarks prominently displayed.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">At least one bookmark must be pinned</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Speed dial displays pinned bookmarks in grid layout</li>
<li class="">Grid is responsive and adapts to screen size</li>
<li class="">Clicking a bookmark opens the URL</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Speed dial shows only pinned bookmarks</li>
<li class="">Grid layout adapts to screen size (e.g., 4x3 on desktop, 3x4 on tablet, 2xN on mobile)</li>
<li class="">Maximum number of pinned bookmarks determines grid size</li>
<li class="">Empty speed dial shows instructions to pin bookmarks</li>
<li class="">Speed dial can be embedded in dashboard widget or standalone page</li>
<li class="">Bookmarks in speed dial show icon and title</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value
Delivery)</li>
<li class="">Domain Aggregates: Bookmark</li>
<li class="">Domain Events: None (read-only view)</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-005 (Pinned bookmarks)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">Speed dial displays pinned bookmarks in grid layout</li>
<li class="">Grid is responsive (adapts to screen size)</li>
<li class="">Each bookmark tile shows icon and title</li>
<li class="">Clicking a bookmark opens URL in new tab</li>
<li class="">Empty speed dial shows placeholder with instructions</li>
<li class="">Speed dial updates in real-time when bookmarks are pinned/unpinned</li>
<li class="">Grid layout is visually appealing and consistent</li>
<li class="">Hover effects provide visual feedback</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-008-001: View speed dial with pinned bookmarks</li>
<li class="">US-BKM-008-002: Open bookmark from speed dial</li>
<li class="">US-BKM-008-003: View empty speed dial</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-7">Scenarios<a href="#scenarios-7" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-view-speed-dial-with-pinned-bookmarks-happy-path">Scenario 1: View speed dial with pinned bookmarks (happy path)<a href="#scenario-1-view-speed-dial-with-pinned-bookmarks-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: View speed dial with pinned bookmarks (happy path)" title="Direct link to Scenario 1: View speed dial with pinned bookmarks (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has pinned 8 bookmarks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user views the speed dial</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then all 8 bookmarks are displayed in a grid layout</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And each bookmark shows its icon and title</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the grid adapts to the screen size</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And hover effects highlight the bookmark tile</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-open-bookmark-from-speed-dial">Scenario 2: Open bookmark from speed dial<a href="#scenario-2-open-bookmark-from-speed-dial" class="hash-link" aria-label="Direct link to Scenario 2: Open bookmark from speed dial" title="Direct link to Scenario 2: Open bookmark from speed dial" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is viewing the speed dial</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user clicks on a bookmark tile</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the bookmark URL opens in a new browser tab</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the speed dial remains open</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-view-empty-speed-dial">Scenario 3: View empty speed dial<a href="#scenario-3-view-empty-speed-dial" class="hash-link" aria-label="Direct link to Scenario 3: View empty speed dial" title="Direct link to Scenario 3: View empty speed dial" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has no pinned bookmarks</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user views the speed dial</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a placeholder message is displayed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the message says &quot;Pin bookmarks to add them here&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a button or link to bookmark management is provided</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-speed-dial-updates-in-real-time">Scenario 4: Speed dial updates in real-time<a href="#scenario-4-speed-dial-updates-in-real-time" class="hash-link" aria-label="Direct link to Scenario 4: Speed dial updates in real-time" title="Direct link to Scenario 4: Speed dial updates in real-time" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is viewing the speed dial</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user pins a new bookmark from another window/tab</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the speed dial automatically updates</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the new bookmark appears in the grid</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no page refresh is required</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-5-responsive-grid-layout">Scenario 5: Responsive grid layout<a href="#scenario-5-responsive-grid-layout" class="hash-link" aria-label="Direct link to Scenario 5: Responsive grid layout" title="Direct link to Scenario 5: Responsive grid layout" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is viewing the speed dial on desktop</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user resizes the browser window to tablet size</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the grid layout adapts to show fewer columns</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And all pinned bookmarks remain visible</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the transition is smooth</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Use CSS Grid or Flexbox for responsive layout</li>
<li class="">Implement lazy loading for bookmark icons</li>
<li class="">Use animations for hover effects and tile interactions</li>
<li class="">Consider implementing drag-and-drop for reordering speed dial items</li>
<li class="">Optimize for performance with large numbers of pinned bookmarks</li>
<li class="">Implement accessibility features (keyboard navigation, ARIA labels)</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should speed dial support custom ordering (independent of pin order)?</li>
<li class="">Should there be different speed dial views (grid size options)?</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="fr-bkm-009-bookmark-importexport">FR-BKM-009: Bookmark import/export<a href="#fr-bkm-009-bookmark-importexport" class="hash-link" aria-label="Direct link to FR-BKM-009: Bookmark import/export" title="Direct link to FR-BKM-009: Bookmark import/export" translate="no">​</a></h3>
<p><strong>Priority:</strong> <span class="priorityLabel_hNWY priorityLabelCouldHave_Pzg7">Could Have</span></p>
<p><strong>Description:</strong>
Users could have the ability to import bookmarks from other browsers or files and export their bookmarks for backup or
migration. This feature enhances portability and reduces migration friction.</p>
<p><strong>Preconditions:</strong></p>
<ul>
<li class="">User must be authenticated</li>
<li class="">For import: valid bookmark file must be provided</li>
<li class="">For export: at least one bookmark must exist</li>
</ul>
<p><strong>Postconditions:</strong></p>
<ul>
<li class="">Imported bookmarks are added to folder hierarchy</li>
<li class="">Exported file contains all bookmarks in standard format</li>
<li class="">Import/export operations are logged</li>
</ul>
<p><strong>Business rules:</strong></p>
<ul>
<li class="">Supported import formats: HTML (Netscape Bookmark File), JSON</li>
<li class="">Supported export formats: HTML, JSON</li>
<li class="">Import preserves folder hierarchy when possible</li>
<li class="">Duplicate bookmarks (same URL) can be skipped or imported based on user preference</li>
<li class="">Import is transactional (all or nothing)</li>
<li class="">Export includes all bookmarks and folders</li>
<li class="">Exported files are timestamped</li>
</ul>
<p><strong>User roles:</strong></p>
<ul>
<li class="">Authenticated User</li>
</ul>
<p><strong>Related to:</strong></p>
<ul>
<li class="">Business Requirements: BR-001 (Portfolio Enhancement), BR-005 (User Value Delivery), BR-006 (Developer Experience)</li>
<li class="">Domain Aggregates: Bookmark, Folder</li>
<li class="">Domain Events: BookmarkCreated, FolderCreated (for imports)</li>
</ul>
<p><strong>Dependencies:</strong></p>
<ul>
<li class="">FR-BKM-001 (Folder management)</li>
<li class="">FR-BKM-002 (Bookmark management)</li>
</ul>
<p><strong>Acceptance criteria:</strong></p>
<ul>
<li class="">User can upload bookmark file (HTML or JSON)</li>
<li class="">File format is validated</li>
<li class="">Import preview shows number of bookmarks and folders</li>
<li class="">User can choose to skip duplicates or import all</li>
<li class="">Import is transactional (fails entirely if errors occur)</li>
<li class="">BookmarkCreated and FolderCreated events are published for imports</li>
<li class="">User can export all bookmarks to HTML or JSON</li>
<li class="">Export file is downloadable</li>
<li class="">Export includes folder hierarchy</li>
<li class="">Export file is named with timestamp</li>
</ul>
<p><strong>User stories:</strong></p>
<ul>
<li class="">US-BKM-009-001: Import bookmarks from file</li>
<li class="">US-BKM-009-002: Export bookmarks to file</li>
<li class="">US-BKM-009-003: Handle duplicate bookmarks on import</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenarios-8">Scenarios<a href="#scenarios-8" class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" translate="no">​</a></h4>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-1-import-bookmarks-from-html-file-happy-path">Scenario 1: Import bookmarks from HTML file (happy path)<a href="#scenario-1-import-bookmarks-from-html-file-happy-path" class="hash-link" aria-label="Direct link to Scenario 1: Import bookmarks from HTML file (happy path)" title="Direct link to Scenario 1: Import bookmarks from HTML file (happy path)" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has a bookmark HTML file from another browser</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Import Bookmarks&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And uploads the HTML file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the file is validated</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an import preview shows the number of bookmarks and folders</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the user confirms the import</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And all bookmarks and folders are created</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And BookmarkCreated and FolderCreated events are published</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And a success message is displayed</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-2-export-bookmarks-to-json">Scenario 2: Export bookmarks to JSON<a href="#scenario-2-export-bookmarks-to-json" class="hash-link" aria-label="Direct link to Scenario 2: Export bookmarks to JSON" title="Direct link to Scenario 2: Export bookmarks to JSON" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user has bookmarks organized in folders</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user selects &quot;Export Bookmarks&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And chooses JSON format</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a JSON file is generated containing all bookmarks and folders</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the file is named with timestamp (e.g., &quot;bookmarks_2025-11-15.json&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And the file is downloaded to the user&#x27;s device</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-3-import-with-duplicate-handling">Scenario 3: Import with duplicate handling<a href="#scenario-3-import-with-duplicate-handling" class="hash-link" aria-label="Direct link to Scenario 3: Import with duplicate handling" title="Direct link to Scenario 3: Import with duplicate handling" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user already has bookmarks with URLs that exist in the import file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the user imports the file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then a dialog asks whether to skip duplicates or import all</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And if &quot;Skip Duplicates&quot; is selected, only new bookmarks are imported</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And if &quot;Import All&quot; is selected, duplicates are imported (possibly in a different folder)</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-4-import-invalid-file">Scenario 4: Import invalid file<a href="#scenario-4-import-invalid-file" class="hash-link" aria-label="Direct link to Scenario 4: Import invalid file" title="Direct link to Scenario 4: Import invalid file" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user attempts to import a file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When the file is not a valid HTML or JSON bookmark file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then validation fails</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an error message indicates the file format is invalid</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no bookmarks are imported</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_eVCZ" id="scenario-5-import-fails-mid-operation">Scenario 5: Import fails mid-operation<a href="#scenario-5-import-fails-mid-operation" class="hash-link" aria-label="Direct link to Scenario 5: Import fails mid-operation" title="Direct link to Scenario 5: Import fails mid-operation" translate="no">​</a></h5>
<div class="language-gherkin codeBlockContainer_kBMm theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_x7jm"><pre tabindex="0" class="prism-code language-gherkin codeBlock_nSXe thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_JhlE"><span class="token-line" style="color:#000000"><span class="token plain">Given a user is importing a large bookmark file</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">When an error occurs during import (e.g., database error)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Then the entire import is rolled back</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And no partial bookmarks are created</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">And an error message is displayed with details</span><br></span></code></pre></div></div>
<hr>
<p><strong>Technical notes:</strong></p>
<ul>
<li class="">Use a library for parsing HTML bookmark files (e.g., Cheerio for Node.js)</li>
<li class="">Implement JSON schema validation for JSON imports</li>
<li class="">Use transactions to ensure atomic imports</li>
<li class="">Consider implementing progress indicators for large imports</li>
<li class="">Implement file size limits for uploads (e.g., max 10MB)</li>
<li class="">Consider implementing import from browser APIs (future)</li>
</ul>
<p><strong>Open questions:</strong></p>
<ul>
<li class="">Should there be an option to import into a specific folder?</li>
<li class="">Should export include only selected folders or always all bookmarks?</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_eVCZ" id="cross-feature-considerations">Cross-feature considerations<a href="#cross-feature-considerations" class="hash-link" aria-label="Direct link to Cross-feature considerations" title="Direct link to Cross-feature considerations" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="interactions-between-features">Interactions between features<a href="#interactions-between-features" class="hash-link" aria-label="Direct link to Interactions between features" title="Direct link to Interactions between features" translate="no">​</a></h3>
<ul>
<li class=""><strong>Folder Management ↔ Bookmark Management:</strong> Bookmarks must belong to folders; deleting folders cascades to bookmarks</li>
<li class=""><strong>Bookmark Management ↔ Icon Management:</strong> Creating/editing bookmarks triggers favicon fetching</li>
<li class=""><strong>Pin Management ↔ Speed Dial:</strong> Pinning bookmarks updates speed dial; unpinning removes from speed dial</li>
<li class=""><strong>Bookmark Organization ↔ Folder Management:</strong> Moving bookmarks between folders updates folder tree structure</li>
<li class=""><strong>Search ↔ All Features:</strong> Search queries across all bookmarks and folders regardless of organization</li>
<li class=""><strong>Import/Export ↔ All Features:</strong> Import creates folders and bookmarks; export includes all organizational structure</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="shared-business-rules">Shared business rules<a href="#shared-business-rules" class="hash-link" aria-label="Direct link to Shared business rules" title="Direct link to Shared business rules" translate="no">​</a></h3>
<ol>
<li class=""><strong>Folder Tree Integrity:</strong> All operations must maintain valid parent-child relationships in folder hierarchy</li>
<li class=""><strong>Bookmark Ownership:</strong> Every bookmark must belong to exactly one folder at all times</li>
<li class=""><strong>URL Validation:</strong> All bookmark URLs must be validated for proper format (http/https protocol)</li>
<li class=""><strong>Unique Identifiers:</strong> All folders and bookmarks must have unique IDs system-wide</li>
<li class=""><strong>Atomicity:</strong> All state changes must be atomic—either fully succeed or fully fail</li>
<li class=""><strong>Non-Empty Names:</strong> Folder and bookmark names must be non-empty and length-bounded</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="data-consistency-requirements">Data consistency requirements<a href="#data-consistency-requirements" class="hash-link" aria-label="Direct link to Data consistency requirements" title="Direct link to Data consistency requirements" translate="no">​</a></h3>
<ul>
<li class=""><strong>Strong Consistency:</strong> Folder and bookmark CRUD operations require strong consistency</li>
<li class=""><strong>Eventual Consistency:</strong> Favicon fetching can be eventually consistent (asynchronous)</li>
<li class=""><strong>Transactional Boundaries:</strong> Folder aggregate is the transactional boundary for folder operations; cascade deletes
must be atomic</li>
<li class=""><strong>Event Publishing:</strong> Events must be published after successful persistence (transactional outbox pattern)</li>
<li class=""><strong>Real-Time Updates:</strong> Speed dial and search results should update in real-time via event subscriptions</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_eVCZ" id="business-constraints-impact">Business constraints impact<a href="#business-constraints-impact" class="hash-link" aria-label="Direct link to Business constraints impact" title="Direct link to Business constraints impact" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="bc-001-budget">BC-001: Budget<a href="#bc-001-budget" class="hash-link" aria-label="Direct link to BC-001: Budget" title="Direct link to BC-001: Budget" translate="no">​</a></h3>
<p>Bookmarks management must operate within zero-cost infrastructure constraints:</p>
<ul>
<li class=""><strong>Favicon Fetching:</strong> Use free favicon services or direct domain fetching (no paid CDN required)</li>
<li class=""><strong>Icon Storage:</strong> Use free-tier object storage (e.g., S3 free tier, Cloudflare R2) or local file system</li>
<li class=""><strong>Search:</strong> Use database full-text search capabilities (no Elasticsearch or paid search service)</li>
<li class=""><strong>Import/Export:</strong> Server-side processing only (no external conversion services)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="bc-002-timeline">BC-002: Timeline<a href="#bc-002-timeline" class="hash-link" aria-label="Direct link to BC-002: Timeline" title="Direct link to BC-002: Timeline" translate="no">​</a></h3>
<p>Bookmarks management is on critical path for MVP (3-6 months):</p>
<ul>
<li class=""><strong>Must Have features</strong> (FR-BKM-001, 002, 003, 005, 008) required for MVP</li>
<li class=""><strong>Should Have features</strong> (FR-BKM-004, 006, 007) enhance UX but can be simplified or deferred</li>
<li class=""><strong>Could Have feature</strong> (FR-BKM-009) explicitly post-MVP</li>
<li class="">Prioritize core CRUD operations and speed dial for initial release</li>
<li class="">Defer advanced features like comprehensive search and import/export</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="bc-003-resources">BC-003: Resources<a href="#bc-003-resources" class="hash-link" aria-label="Direct link to BC-003: Resources" title="Direct link to BC-003: Resources" translate="no">​</a></h3>
<p>Single-developer constraints affect Bookmarks management:</p>
<ul>
<li class=""><strong>Leverage UI Libraries:</strong> Use existing drag-and-drop libraries (Angular CDK) for reordering</li>
<li class=""><strong>Simplify Favicon Management:</strong> Use browser&#x27;s built-in favicon fetching where possible</li>
<li class=""><strong>Automate Testing:</strong> Heavy investment in unit tests for folder tree integrity</li>
<li class=""><strong>Incremental Development:</strong> Build folder management first, then bookmarks, then speed dial</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="bc-004-technology-stack">BC-004: Technology stack<a href="#bc-004-technology-stack" class="hash-link" aria-label="Direct link to BC-004: Technology stack" title="Direct link to BC-004: Technology stack" translate="no">​</a></h3>
<p>Bookmarks management aligns with chosen stack:</p>
<ul>
<li class=""><strong>Frontend:</strong> Angular components for folder tree, bookmark grid, speed dial (Angular Material UI)</li>
<li class=""><strong>Backend:</strong> Spring Boot REST APIs for bookmark/folder CRUD</li>
<li class=""><strong>Database:</strong> PostgreSQL with recursive CTEs for folder tree queries</li>
<li class=""><strong>File Storage:</strong> Local file system or S3-compatible storage for icons</li>
<li class=""><strong>Search:</strong> PostgreSQL full-text search with GIN indexes</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_eVCZ" id="success-metrics-alignment">Success metrics alignment<a href="#success-metrics-alignment" class="hash-link" aria-label="Direct link to Success metrics alignment" title="Direct link to Success metrics alignment" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="technical-metrics-br-003">Technical metrics (BR-003)<a href="#technical-metrics-br-003" class="hash-link" aria-label="Direct link to Technical metrics (BR-003)" title="Direct link to Technical metrics (BR-003)" translate="no">​</a></h3>
<table><thead><tr><th>Metric</th><th>Target</th><th>Bookmarks contribution</th></tr></thead><tbody><tr><td><strong>Page Load Time</strong></td><td>&lt; 2 seconds</td><td>Efficient folder tree loading, lazy loading icons</td></tr><tr><td><strong>API Response Time</strong></td><td>&lt; 200ms (p95)</td><td>Optimized bookmark/folder CRUD, indexed search queries</td></tr><tr><td><strong>Test Coverage</strong></td><td>&gt; 80%</td><td>Comprehensive unit/integration tests for all FR-BKM features</td></tr><tr><td><strong>Lighthouse Score</strong></td><td>&gt; 90</td><td>Optimized speed dial rendering, responsive grid layouts</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="portfolio-quality-metrics-br-001">Portfolio quality metrics (BR-001)<a href="#portfolio-quality-metrics-br-001" class="hash-link" aria-label="Direct link to Portfolio quality metrics (BR-001)" title="Direct link to Portfolio quality metrics (BR-001)" translate="no">​</a></h3>
<table><thead><tr><th>Metric</th><th>Target</th><th>Bookmarks contribution</th></tr></thead><tbody><tr><td><strong>Architecture Documentation</strong></td><td>All views complete</td><td>Folder aggregate design, bookmark lifecycle, event flows</td></tr><tr><td><strong>Code Quality Score</strong></td><td>No critical issues</td><td>DDD patterns (aggregates, entities, value objects), validation</td></tr><tr><td><strong>Frontend Proficiency</strong></td><td>Showcase skills</td><td>Grid layouts, drag-and-drop, animations, responsive design</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_eVCZ" id="user-experience-metrics-br-002-br-005">User experience metrics (BR-002, BR-005)<a href="#user-experience-metrics-br-002-br-005" class="hash-link" aria-label="Direct link to User experience metrics (BR-002, BR-005)" title="Direct link to User experience metrics (BR-002, BR-005)" translate="no">​</a></h3>
<table><thead><tr><th>Metric</th><th>Target</th><th>Bookmarks contribution</th></tr></thead><tbody><tr><td><strong>Task Completion Rate</strong></td><td>&gt; 95%</td><td>Intuitive folder/bookmark management, fast speed dial access</td></tr><tr><td><strong>Mobile Usability</strong></td><td>Fully Responsive</td><td>Responsive folder tree, speed dial grid adapts to all sizes</td></tr><tr><td><strong>Accessibility Score</strong></td><td>WCAG 2.1 Level AA</td><td>Keyboard navigation, screen reader support for folder tree</td></tr><tr><td><strong>User Satisfaction</strong></td><td>&gt; 4.0/5.0</td><td>Fast bookmark access, visual speed dial, flexible organization</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_eVCZ" id="traceability-matrix">Traceability matrix<a href="#traceability-matrix" class="hash-link" aria-label="Direct link to Traceability matrix" title="Direct link to Traceability matrix" translate="no">​</a></h2>
<table><thead><tr><th>Feature</th><th>Business Req</th><th>Domain Events</th><th>User Stories</th></tr></thead><tbody><tr><td>FR-BKM-001</td><td>BR-001, BR-002, BR-005</td><td>FolderCreated, FolderRenamed, FolderDeleted, UserRegistered</td><td>US-BKM-001-001/002/003/004</td></tr><tr><td>FR-BKM-002</td><td>BR-001, BR-002, BR-005</td><td>BookmarkCreated, BookmarkUpdated, BookmarkDeleted</td><td>US-BKM-002-001/002/003/004</td></tr><tr><td>FR-BKM-003</td><td>BR-001, BR-002, BR-005</td><td>BookmarkUpdated</td><td>US-BKM-003-001/002</td></tr><tr><td>FR-BKM-004</td><td>BR-001, BR-002, BR-005</td><td>BookmarkUpdated</td><td>US-BKM-004-001/002</td></tr><tr><td>FR-BKM-005</td><td>BR-001, BR-002, BR-005</td><td>BookmarkPinned, BookmarkUnpinned</td><td>US-BKM-005-001/002/003</td></tr><tr><td>FR-BKM-006</td><td>BR-001, BR-002, BR-005</td><td>None (read-only)</td><td>US-BKM-006-001/002/003</td></tr><tr><td>FR-BKM-007</td><td>BR-001, BR-002, BR-005</td><td>BookmarkUpdated</td><td>US-BKM-007-001/002/003</td></tr><tr><td>FR-BKM-008</td><td>BR-001, BR-002, BR-005</td><td>None (read-only)</td><td>US-BKM-008-001/002/003</td></tr><tr><td>FR-BKM-009</td><td>BR-001, BR-005, BR-006</td><td>BookmarkCreated, FolderCreated (imports)</td><td>US-BKM-009-001/002/003</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_Etd2"><a href="https://github.com/migmolrod/browser-dashboard-pwa/tree/master/docs/docs/requirements/functional/bookmarks.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_HVIS" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_HvnU"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/requirements/functional/dashboard-management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dashboard Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/requirements/functional/tasks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tasks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_ApK3 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a><ul><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#fr-bkm-001-folder-management" class="table-of-contents__link toc-highlight">FR-BKM-001: Folder management</a></li><li><a href="#fr-bkm-002-bookmark-management" class="table-of-contents__link toc-highlight">FR-BKM-002: Bookmark management</a></li><li><a href="#fr-bkm-003-bookmark-organization" class="table-of-contents__link toc-highlight">FR-BKM-003: Bookmark organization</a></li><li><a href="#fr-bkm-004-bookmark-reordering" class="table-of-contents__link toc-highlight">FR-BKM-004: Bookmark reordering</a></li><li><a href="#fr-bkm-005-pinfavorite-management" class="table-of-contents__link toc-highlight">FR-BKM-005: Pin/favorite management</a></li><li><a href="#fr-bkm-006-bookmark-search" class="table-of-contents__link toc-highlight">FR-BKM-006: Bookmark search</a></li><li><a href="#fr-bkm-007-iconfavicon-management" class="table-of-contents__link toc-highlight">FR-BKM-007: Icon/favicon management</a></li><li><a href="#fr-bkm-008-speed-dial" class="table-of-contents__link toc-highlight">FR-BKM-008: Speed dial</a></li><li><a href="#fr-bkm-009-bookmark-importexport" class="table-of-contents__link toc-highlight">FR-BKM-009: Bookmark import/export</a></li></ul></li><li><a href="#cross-feature-considerations" class="table-of-contents__link toc-highlight">Cross-feature considerations</a><ul><li><a href="#interactions-between-features" class="table-of-contents__link toc-highlight">Interactions between features</a></li><li><a href="#shared-business-rules" class="table-of-contents__link toc-highlight">Shared business rules</a></li><li><a href="#data-consistency-requirements" class="table-of-contents__link toc-highlight">Data consistency requirements</a></li></ul></li><li><a href="#business-constraints-impact" class="table-of-contents__link toc-highlight">Business constraints impact</a><ul><li><a href="#bc-001-budget" class="table-of-contents__link toc-highlight">BC-001: Budget</a></li><li><a href="#bc-002-timeline" class="table-of-contents__link toc-highlight">BC-002: Timeline</a></li><li><a href="#bc-003-resources" class="table-of-contents__link toc-highlight">BC-003: Resources</a></li><li><a href="#bc-004-technology-stack" class="table-of-contents__link toc-highlight">BC-004: Technology stack</a></li></ul></li><li><a href="#success-metrics-alignment" class="table-of-contents__link toc-highlight">Success metrics alignment</a><ul><li><a href="#technical-metrics-br-003" class="table-of-contents__link toc-highlight">Technical metrics (BR-003)</a></li><li><a href="#portfolio-quality-metrics-br-001" class="table-of-contents__link toc-highlight">Portfolio quality metrics (BR-001)</a></li><li><a href="#user-experience-metrics-br-002-br-005" class="table-of-contents__link toc-highlight">User experience metrics (BR-002, BR-005)</a></li></ul></li><li><a href="#traceability-matrix" class="table-of-contents__link toc-highlight">Traceability matrix</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/domain/overview">DMD</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/requirements/overview">SRS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/architecture/overview">SAD</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/migmolrod/browser-dashboard-pwa" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_j3rN"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Miguel Molinero Rodríguez. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>