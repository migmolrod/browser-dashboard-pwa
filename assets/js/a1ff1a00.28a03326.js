"use strict";(globalThis.webpackChunkbrowser_dashboard_pwa_docs=globalThis.webpackChunkbrowser_dashboard_pwa_docs||[]).push([[3755],{5739:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var i=s(6363);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},9226:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"domain/bounded-contexts/preferences","title":"Preferences (Generic)","description":"Context summary","source":"@site/docs/domain/bounded-contexts/preferences.md","sourceDirName":"domain/bounded-contexts","slug":"/domain/bounded-contexts/preferences","permalink":"/docs/domain/bounded-contexts/preferences","draft":false,"unlisted":false,"editUrl":"https://github.com/migmolrod/browser-dashboard-pwa/tree/master/docs/docs/domain/bounded-contexts/preferences.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"domain","previous":{"title":"User identity (Generic)","permalink":"/docs/domain/bounded-contexts/user-identity"},"next":{"title":"Synchronization (Generic)","permalink":"/docs/domain/bounded-contexts/synchronization"}}');var t=s(7259),r=s(5739);const o={sidebar_position:8},d="Preferences (Generic)",c={},l=[{value:"Context summary",id:"context-summary",level:2},{value:"Ownership",id:"ownership",level:2},{value:"Domain model",id:"domain-model",level:2},{value:"Capabilities",id:"capabilities",level:2},{value:"Events",id:"events",level:2},{value:"Integration and dependencies",id:"integration-and-dependencies",level:2},{value:"Contract and SLA",id:"contract-and-sla",level:2},{value:"Risks and evolution",id:"risks-and-evolution",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"preferences-generic",children:"Preferences (Generic)"})}),"\n",(0,t.jsx)(n.h2,{id:"context-summary",children:"Context summary"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Code: ",(0,t.jsx)(n.code,{children:"PRE"})]}),"\n",(0,t.jsx)(n.li,{children:"Mission: Manage cross\u2011cutting user preferences such as theme, locale, timezone, and defaults."}),"\n",(0,t.jsx)(n.li,{children:"Scope: Store/retrieve preferences; provide sensible defaults; notify other contexts on changes."}),"\n",(0,t.jsx)(n.li,{children:"Out of Scope: Widget-specific business settings (owned by respective contexts), advanced policy/entitlement\nmanagement."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ownership",children:"Ownership"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Platform/Infrastructure team"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"domain-model",children:"Domain model"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Aggregates","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"UserPreferences (root): theme, locale, timezone, widget defaults"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Key invariants","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Preferences belong to exactly one user"}),"\n",(0,t.jsx)(n.li,{children:"Locale and timezone values must be valid per supported catalogs"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"capabilities",children:"Capabilities"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Commands: UpdatePreferences, SetTheme, SetLocale, SetTimezone"}),"\n",(0,t.jsx)(n.li,{children:"Queries: GetPreferencesByUserId"}),"\n",(0,t.jsx)(n.li,{children:"Policies/Rules: default preference creation on user registration; validation against supported\nthemes/locales/timezones"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Published: PreferencesUpdated, ThemeChanged, LocaleChanged"}),"\n",(0,t.jsx)(n.li,{children:"Consumed: UserRegistered (create defaults)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"integration-and-dependencies",children:"Integration and dependencies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Upstream (Shared Kernel/Conformist): User Identity (UserId association)"}),"\n",(0,t.jsx)(n.li,{children:"Downstream (Customer\u2013Supplier): Dashboard Management and widget contexts consume preference updates"}),"\n",(0,t.jsx)(n.li,{children:"Notes: Acts as single source of truth for cross\u2011cutting user settings"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"contract-and-sla",children:"Contract and SLA"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Consistency: strong for preference mutations; eventual for consumers via events"}),"\n",(0,t.jsx)(n.li,{children:"Versioning: additive evolution of preference schema; event versioning guarantees backward compatibility"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"risks-and-evolution",children:"Risks and evolution"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Risk: preference bloat (too many cross\u2011cutting fields)\u2014mitigate by pushing widget\u2011specific settings to owning contexts"}),"\n",(0,t.jsx)(n.li,{children:"Possible evolution: per\u2011device overrides; preference profiles with opt-in switching"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);