"use strict";(globalThis.webpackChunkbrowser_dashboard_pwa_docs=globalThis.webpackChunkbrowser_dashboard_pwa_docs||[]).push([[3908],{5739:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>o});var r=a(6363);const s={},i=r.createContext(s);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(i.Provider,{value:n},e.children)}},9230:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"domain/process-workflows","title":"Processes and workflows","description":"This section describes key end-to-end workflows across bounded contexts. Diagrams are expressed in BPMN\u2011like notation","source":"@site/docs/domain/process-workflows.md","sourceDirName":"domain","slug":"/domain/process-workflows","permalink":"/browser-dashboard-pwa/docs/domain/process-workflows","draft":false,"unlisted":false,"editUrl":"https://github.com/migmolrod/browser-dashboard-pwa/tree/master/docs/docs/domain/process-workflows.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"domain","previous":{"title":"More information","permalink":"/browser-dashboard-pwa/docs/domain/bounded-contexts/more-information"},"next":{"title":"Domain events","permalink":"/browser-dashboard-pwa/docs/domain/domain-events"}}');var s=a(7259),i=a(5739);const t={sidebar_position:6},o="Processes and workflows",d={},l=[{value:"User onboarding",id:"user-onboarding",level:2},{value:"Compose a dashboard (Add/Configure/Reorder widgets)",id:"compose-a-dashboard-addconfigurereorder-widgets",level:2},{value:"Manage tasks and create calendar event from a task",id:"manage-tasks-and-create-calendar-event-from-a-task",level:2},{value:"Bookmarks management and pin to speed dial",id:"bookmarks-management-and-pin-to-speed-dial",level:2},{value:"Weather data refresh with ACL",id:"weather-data-refresh-with-acl",level:2},{value:"Switch profile",id:"switch-profile",level:2},{value:"Offline first and synchronization",id:"offline-first-and-synchronization",level:2},{value:"Delete dashboard and cleanup",id:"delete-dashboard-and-cleanup",level:2}];function c(e){const n={admonition:"admonition",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"processes-and-workflows",children:"Processes and workflows"})}),"\n",(0,s.jsx)(n.p,{children:"This section describes key end-to-end workflows across bounded contexts. Diagrams are expressed in BPMN\u2011like notation\nusing Mermaid for readability. Each workflow includes a brief narrative."}),"\n",(0,s.jsx)(n.admonition,{title:"Legend",type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Pools represent bounded contexts"}),"\n",(0,s.jsx)(n.li,{children:"Events: (o) Start, (x) End"}),"\n",(0,s.jsx)(n.li,{children:"Tasks: Rounded rectangles"}),"\n",(0,s.jsx)(n.li,{children:"Messages: Dashed arrows across pools"}),"\n",(0,s.jsx)(n.li,{children:"Data stores: Implicit per context; no cross\u2011DB calls"}),"\n"]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"user-onboarding",children:"User onboarding"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: When a user registers, foundational contexts initialize defaults so the system is immediately usable."}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant UI as UI\n    participant ID as User Identity\n    participant PREF as Preferences\n    participant DASH as Dashboard Management\n    participant TASK as Tasks\n    participant CAL as Calendar\n    participant BM as Bookmarks\n    UI ->> ID: RegisterUser(username, password)\n    ID --\x3e> UI: UserRegistered(UserId)\n    ID --\x3e> PREF: DomainEvent UserRegistered(UserId)\n    PREF --\x3e> ID: PreferencesCreated(UserId, defaults)\n    ID --\x3e> DASH: DomainEvent UserRegistered(UserId)\n    DASH --\x3e> ID: DashboardCreated(UserId, DefaultProfile)\n    ID --\x3e> TASK: DomainEvent UserRegistered(UserId)\n    TASK --\x3e> ID: DefaultTaskListCreated(UserId)\n    ID --\x3e> CAL: DomainEvent UserRegistered(UserId)\n    CAL --\x3e> ID: CalendarCreated(UserId)\n    ID --\x3e> BM: DomainEvent UserRegistered(UserId)\n    BM --\x3e> ID: RootFolderCreated(UserId)"}),"\n",(0,s.jsx)(n.p,{children:"Key outputs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"UserPreferences created"}),"\n",(0,s.jsx)(n.li,{children:"Default Dashboard with profile"}),"\n",(0,s.jsx)(n.li,{children:"Default TaskList, Calendar, and Bookmarks root folder"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"compose-a-dashboard-addconfigurereorder-widgets",children:"Compose a dashboard (Add/Configure/Reorder widgets)"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: A user personalizes their dashboard by adding a widget instance, configuring it, and reordering layout\npositions."}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant UI as UI\n    participant DASH as Dashboard Management\n    participant PREF as Preferences\n    participant TASK as Tasks\n    participant CAL as Calendar\n    participant BM as Bookmarks\n    participant WEA as Weather\n    UI ->> DASH: AddWidget(DashboardId, WidgetType)\n    DASH --\x3e> UI: WidgetAddedToDashboard(WidgetInstanceId)\n    UI ->> DASH: ConfigureWidget(WidgetInstanceId, Settings)\n    DASH --\x3e> UI: WidgetConfigurationChanged\n    DASH --\x3e> WEA: DomainEvent WidgetConfigurationChanged (if Weather)\n    DASH --\x3e> TASK: DomainEvent WidgetConfigurationChanged (if Tasks)\n    DASH --\x3e> CAL: DomainEvent WidgetConfigurationChanged (if Calendar)\n    DASH --\x3e> BM: DomainEvent WidgetConfigurationChanged (if Bookmarks)\n    UI ->> DASH: ReorderWidgets(LayoutChanges)\n    DASH --\x3e> UI: WidgetReordered (layout valid)"}),"\n",(0,s.jsx)(n.p,{children:"Policy guards:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Layout positions cannot overlap"}),"\n",(0,s.jsx)(n.li,{children:"Widget type must be supported"}),"\n",(0,s.jsx)(n.li,{children:"Configuration validated by supplier contexts when applicable"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"manage-tasks-and-create-calendar-event-from-a-task",children:"Manage tasks and create calendar event from a task"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: A user updates the task state and optionally creates a related calendar event."}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant UI as UI\n    participant TASK as Tasks\n    participant CAL as Calendar\n    participant DASH as Dashboard Management\n    UI ->> TASK: CreateTask(Title, Priority, DueDate?)\n    TASK --\x3e> UI: TaskCreated(TaskId)\n    UI ->> TASK: ChangeTaskStatus(TaskId, In-Progress)\n    TASK --\x3e> UI: TaskStatusChanged\n    UI ->> TASK: CreateEventFromTask(TaskId)\n    TASK --\x3e> CAL: DomainEvent EventCreationRequestedFromTask(TaskId, Title, DueDate)\n    CAL --\x3e> TASK: EventCreated(EventId)\n    CAL --\x3e> UI: EventCreated(EventId)\n    TASK --\x3e> DASH: DomainEvent TaskUpdated (for widget refresh)\n    CAL --\x3e> DASH: DomainEvent EventCreated (for widget refresh)"}),"\n",(0,s.jsx)(n.p,{children:"Invariants:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Task status must be valid (Todo/In\u2011Progress/Done)"}),"\n",(0,s.jsx)(n.li,{children:"Calendar enforces start < end"}),"\n",(0,s.jsx)(n.li,{children:"Event creation is one\u2011way; no hard coupling"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"bookmarks-management-and-pin-to-speed-dial",children:"Bookmarks management and pin to speed dial"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: A user organizes bookmarks and pins favorites for quick access on the dashboard."}),"\n",(0,s.jsx)(n.mermaid,{value:'sequenceDiagram\n    autonumber\n    participant UI as UI\n    participant BM as Bookmarks\n    participant DASH as Dashboard Management\n    UI ->> BM: CreateFolder("Development")\n    BM --\x3e> UI: FolderCreated(FolderId)\n    UI ->> BM: CreateBookmark(FolderId, Title, URL)\n    BM --\x3e> UI: BookmarkCreated(BookmarkId)\n    UI ->> BM: PinBookmark(BookmarkId)\n    BM --\x3e> UI: BookmarkPinned\n    BM --\x3e> DASH: DomainEvent BookmarkPinned(UserId, BookmarkId)\n    DASH --\x3e> DASH: Refresh widget read model (if widget present)'}),"\n",(0,s.jsx)(n.p,{children:"Constraints:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"URL must be valid"}),"\n",(0,s.jsx)(n.li,{children:"Folder hierarchy maintained"}),"\n",(0,s.jsx)(n.li,{children:"Pinned set scoped to user"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"weather-data-refresh-with-acl",children:"Weather data refresh with ACL"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: Weather context refreshes data from an external provider using an anti\u2011corruption layer and notifies widgets."}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant SCHED as Scheduler\n    participant WEA as Weather (ACL)\n    participant EXT as Weather Provider API\n    participant PREF as Preferences\n    participant DASH as Dashboard Management\n    SCHED ->> WEA: RefreshWeatherData()\n    WEA ->> PREF: GetPreferences(UserId: units)\n    PREF --\x3e> WEA: Preferences(units)\n    WEA ->> EXT: FetchCurrentWeather(location, units)\n    EXT --\x3e> WEA: ProviderResponse(raw)\n    WEA --\x3e> WEA: Map via ACL to WeatherSnapshot\n    WEA --\x3e> DASH: DomainEvent WeatherDataRefreshed(UserId, Snapshot)"}),"\n",(0,s.jsx)(n.p,{children:"Policies:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cache with TTL and rate limiting"}),"\n",(0,s.jsx)(n.li,{children:"Provider errors produce WeatherFetchFailed events"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"switch-profile",children:"Switch profile"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: User switches between personalization profiles; dashboard restores saved layout and widget configurations."}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant UI as UI\n    participant DASH as Dashboard Management\n    participant PREF as Preferences\n    participant WEA as Weather\n    participant TASK as Tasks\n    participant CAL as Calendar\n    participant BM as Bookmarks\n    UI ->> DASH: SwitchProfile(UserId, ProfileId)\n    DASH --\x3e> UI: ProfileSwitched\n    DASH --\x3e> PREF: Query preferences (theme/locale/timezone)\n    PREF --\x3e> DASH: Preferences\n    DASH --\x3e> WEA: DomainEvent ProfileSwitched (for data refresh if needed)\n    DASH --\x3e> TASK: DomainEvent ProfileSwitched\n    DASH --\x3e> CAL: DomainEvent ProfileSwitched\n    DASH --\x3e> BM: DomainEvent ProfileSwitched"}),"\n",(0,s.jsx)(n.p,{children:"Rules:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Profile must exist for user"}),"\n",(0,s.jsx)(n.li,{children:"Restored layout must pass layout policy"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"offline-first-and-synchronization",children:"Offline first and synchronization"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: User operates offline; when connectivity is restored, changes synchronize to the cloud and conflicts are\nresolved."}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant UI as UI\n    participant SYNC as Synchronization\n    participant DASH as Dashboard\n    participant TASK as Tasks\n    participant CAL as Calendar\n    participant BM as Bookmarks\n    UI ->> SYNC: RecordChange(local op)\n    Note over SYNC: Store in local DB with vector/ts\n    SYNC --\x3e> UI: OfflineAck\n    Note over SYNC: Connectivity restored\n    SYNC ->> DASH: PushChanges(dashboard ops)\n    SYNC ->> TASK: PushChanges(task ops)\n    SYNC ->> CAL: PushChanges(calendar ops)\n    SYNC ->> BM: PushChanges(bookmark ops)\n\n    alt Conflict detected\n        SYNC --\x3e> UI: SyncConflictDetected(details)\n        UI ->> SYNC: ResolveConflict(choice)\n        SYNC --\x3e> All: DataSynchronized\n    else No conflicts\n        SYNC --\x3e> All: DataSynchronized\n    end"}),"\n",(0,s.jsx)(n.p,{children:"MVP strategy:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Last\u2011write\u2011wins with timestamps"}),"\n",(0,s.jsx)(n.li,{children:"Eventual consistency across contexts"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"delete-dashboard-and-cleanup",children:"Delete dashboard and cleanup"}),"\n",(0,s.jsx)(n.p,{children:"Narrative: User deletes a dashboard; widget instances are removed while data in supporting contexts remains intact."}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant UI as UI\n    participant DASH as Dashboard Management\n    participant TASK as Tasks\n    participant CAL as Calendar\n    participant BM as Bookmarks\n    participant WEA as Weather\n    UI ->> DASH: DeleteDashboard(DashboardId)\n    DASH --\x3e> UI: DashboardDeleted\n    DASH --\x3e> TASK: DomainEvent WidgetRemovedFromDashboard (tasks widget)\n    DASH --\x3e> CAL: DomainEvent WidgetRemovedFromDashboard (calendar widget)\n    DASH --\x3e> BM: DomainEvent WidgetRemovedFromDashboard (bookmarks widget)\n    DASH --\x3e> WEA: DomainEvent WidgetRemovedFromDashboard (weather widget)"}),"\n",(0,s.jsx)(n.p,{children:"Principle:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dashboard removal does not delete domain data from supplier contexts"}),"\n",(0,s.jsx)(n.li,{children:"Only composition/layout artifacts are removed"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);