"use strict";(globalThis.webpackChunkbrowser_dashboard_pwa_docs=globalThis.webpackChunkbrowser_dashboard_pwa_docs||[]).push([[190],{4:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>j,frontMatter:()=>o,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"requirements/functional/user-identity","title":"User identity","description":"Overview","source":"@site/docs/requirements/functional/user-identity.mdx","sourceDirName":"requirements/functional","slug":"/requirements/functional/user-identity","permalink":"/browser-dashboard-pwa/docs/requirements/functional/user-identity","draft":false,"unlisted":false,"editUrl":"https://github.com/migmolrod/browser-dashboard-pwa/tree/master/docs/docs/requirements/functional/user-identity.mdx","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"User identity","status":"Draft","lastUpdated":"2025-11-15T00:00:00.000Z"},"sidebar":"requirements","previous":{"title":"Weather","permalink":"/browser-dashboard-pwa/docs/requirements/functional/weather"},"next":{"title":"Preferences","permalink":"/browser-dashboard-pwa/docs/requirements/functional/preferences"}}');var r=s(7259),t=s(5739),a=s(4761),l=s(6453),d=s(1487);const o={sidebar_position:7,title:"User identity",status:"Draft",lastUpdated:new Date("2025-11-15T00:00:00.000Z")},c="User identity",h={},u=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Summary",id:"summary",level:3},{value:"FR-UID-001: User registration",id:"fr-uid-001-user-registration",level:3},{value:"Scenarios",id:"scenarios",level:4},{value:"Scenario 1: Register with valid credentials (happy path)",id:"scenario-1-register-with-valid-credentials-happy-path",level:5},{value:"Scenario 2: Reject duplicate username",id:"scenario-2-reject-duplicate-username",level:5},{value:"Scenario 3: Reject duplicate email",id:"scenario-3-reject-duplicate-email",level:5},{value:"Scenario 4: Reject invalid password (too short)",id:"scenario-4-reject-invalid-password-too-short",level:5},{value:"Scenario 5: Reject invalid password (missing complexity)",id:"scenario-5-reject-invalid-password-missing-complexity",level:5},{value:"Scenario 6: Password confirmation mismatch",id:"scenario-6-password-confirmation-mismatch",level:5},{value:"Scenario 7: Invalid email format",id:"scenario-7-invalid-email-format",level:5},{value:"Scenario 8: Username with invalid characters",id:"scenario-8-username-with-invalid-characters",level:5},{value:"FR-UID-002: User authentication",id:"fr-uid-002-user-authentication",level:3},{value:"Scenarios",id:"scenarios-1",level:4},{value:"Scenario 1: Login with valid credentials (happy path)",id:"scenario-1-login-with-valid-credentials-happy-path",level:5},{value:"Scenario 2: Login with email instead of username",id:"scenario-2-login-with-email-instead-of-username",level:5},{value:"Scenario 3: Reject invalid password",id:"scenario-3-reject-invalid-password",level:5},{value:"Scenario 4: Generic error for non-existent user",id:"scenario-4-generic-error-for-non-existent-user",level:5},{value:"Scenario 5: Account lockout after failed attempts",id:"scenario-5-account-lockout-after-failed-attempts",level:5},{value:"Scenario 6: Successful login resets failed attempt counter",id:"scenario-6-successful-login-resets-failed-attempt-counter",level:5},{value:"Scenario 7: Login attempt during lockout period",id:"scenario-7-login-attempt-during-lockout-period",level:5},{value:"Scenario 8: Login after lockout period expires",id:"scenario-8-login-after-lockout-period-expires",level:5},{value:"FR-UID-003: Session management",id:"fr-uid-003-session-management",level:3},{value:"Scenarios",id:"scenarios-2",level:4},{value:"Scenario 1: Create session on login (happy path)",id:"scenario-1-create-session-on-login-happy-path",level:5},{value:"Scenario 2: Validate session on protected request",id:"scenario-2-validate-session-on-protected-request",level:5},{value:"Scenario 3: Reject expired session (inactivity timeout)",id:"scenario-3-reject-expired-session-inactivity-timeout",level:5},{value:"Scenario 4: Reject expired session (absolute timeout)",id:"scenario-4-reject-expired-session-absolute-timeout",level:5},{value:"Scenario 5: Logout and terminate session",id:"scenario-5-logout-and-terminate-session",level:5},{value:"Scenario 6: Multiple concurrent sessions",id:"scenario-6-multiple-concurrent-sessions",level:5},{value:"Scenario 7: Session cleanup job removes expired sessions",id:"scenario-7-session-cleanup-job-removes-expired-sessions",level:5},{value:"Scenario 8: Session refresh on activity",id:"scenario-8-session-refresh-on-activity",level:5},{value:"FR-UID-004: User profile management",id:"fr-uid-004-user-profile-management",level:3},{value:"Scenarios",id:"scenarios-3",level:4},{value:"Scenario 1: View user profile (happy path)",id:"scenario-1-view-user-profile-happy-path",level:5},{value:"Scenario 2: Update display name",id:"scenario-2-update-display-name",level:5},{value:"Scenario 3: Update email with validation",id:"scenario-3-update-email-with-validation",level:5},{value:"Scenario 4: Reject duplicate email",id:"scenario-4-reject-duplicate-email",level:5},{value:"Scenario 5: Update username with validation",id:"scenario-5-update-username-with-validation",level:5},{value:"Scenario 6: Cancel profile changes",id:"scenario-6-cancel-profile-changes",level:5},{value:"FR-UID-005: Password management",id:"fr-uid-005-password-management",level:3},{value:"Scenarios",id:"scenarios-4",level:4},{value:"Scenario 1: Change password successfully (happy path)",id:"scenario-1-change-password-successfully-happy-path",level:5},{value:"Scenario 2: Reject incorrect current password",id:"scenario-2-reject-incorrect-current-password",level:5},{value:"Scenario 3: Reject weak new password",id:"scenario-3-reject-weak-new-password",level:5},{value:"Scenario 4: Reject same password",id:"scenario-4-reject-same-password",level:5},{value:"Scenario 5: Password confirmation mismatch",id:"scenario-5-password-confirmation-mismatch",level:5},{value:"Scenario 6: Invalidate other sessions after password change",id:"scenario-6-invalidate-other-sessions-after-password-change",level:5},{value:"FR-UID-006: Account deletion",id:"fr-uid-006-account-deletion",level:3},{value:"Scenarios",id:"scenarios-5",level:4},{value:"Scenario 1: Delete account successfully (happy path)",id:"scenario-1-delete-account-successfully-happy-path",level:5},{value:"Scenario 2: Reject deletion with incorrect password",id:"scenario-2-reject-deletion-with-incorrect-password",level:5},{value:"Scenario 3: Cancel account deletion",id:"scenario-3-cancel-account-deletion",level:5},{value:"Scenario 4: Cannot log in after deletion",id:"scenario-4-cannot-log-in-after-deletion",level:5},{value:"Scenario 5: Cascading deletion across contexts",id:"scenario-5-cascading-deletion-across-contexts",level:5},{value:"Scenario 6: Account deletion is logged",id:"scenario-6-account-deletion-is-logged",level:5},{value:"FR-UID-007: Security policies",id:"fr-uid-007-security-policies",level:3},{value:"Scenarios",id:"scenarios-6",level:4},{value:"Scenario 1: Enforce password complexity on registration",id:"scenario-1-enforce-password-complexity-on-registration",level:5},{value:"Scenario 2: Enforce account lockout after failed logins",id:"scenario-2-enforce-account-lockout-after-failed-logins",level:5},{value:"Scenario 3: Enforce session inactivity timeout",id:"scenario-3-enforce-session-inactivity-timeout",level:5},{value:"Scenario 4: Enforce session absolute timeout",id:"scenario-4-enforce-session-absolute-timeout",level:5},{value:"Scenario 5: Password hashing with bcrypt",id:"scenario-5-password-hashing-with-bcrypt",level:5},{value:"Scenario 6: Secure session token generation",id:"scenario-6-secure-session-token-generation",level:5},{value:"Scenario 7: Audit logging for security events",id:"scenario-7-audit-logging-for-security-events",level:5},{value:"Scenario 8: Configurable security policies",id:"scenario-8-configurable-security-policies",level:5},{value:"Cross-feature considerations",id:"cross-feature-considerations",level:2},{value:"Interactions between features",id:"interactions-between-features",level:3},{value:"Shared business rules",id:"shared-business-rules",level:3},{value:"Data consistency requirements",id:"data-consistency-requirements",level:3},{value:"Business constraints impact",id:"business-constraints-impact",level:2},{value:"BC-001: Budget",id:"bc-001-budget",level:3},{value:"BC-002: Timeline",id:"bc-002-timeline",level:3},{value:"BC-003: Resources",id:"bc-003-resources",level:3},{value:"BC-004: Technology stack",id:"bc-004-technology-stack",level:3},{value:"Success metrics alignment",id:"success-metrics-alignment",level:2},{value:"BR-003: Technical metrics",id:"br-003-technical-metrics",level:3},{value:"BR-001: Portfolio quality metrics",id:"br-001-portfolio-quality-metrics",level:3},{value:"BR-002, BR-005: User experience metrics",id:"br-002-br-005-user-experience-metrics",level:3},{value:"Traceability matrix",id:"traceability-matrix",level:2}];function x(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{status:o.status,lastUpdated:o.lastUpdated}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"user-identity",children:"User identity"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The User Identity bounded context provides foundational user identification, authentication, and session management for\nthe Browser Dashboard PWA. It serves as the system-of-record for user identity and acts as the entry point for all user\ninteractions. The context handles user registration, login/logout, and basic session lifecycle management."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Bounded context code:"})," UID",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Related DMD section:"})," ",(0,r.jsx)(n.a,{href:"../../domain/bounded-contexts/user-identity",children:"User Identity (Generic)"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsx)(n.h3,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature Code"}),(0,r.jsx)(n.th,{children:"Feature Name"}),(0,r.jsx)(n.th,{children:"Priority"}),(0,r.jsx)(n.th,{children:"Status"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-001"}),(0,r.jsx)(n.td,{children:"User registration"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(l.A,{priority:"Must Have"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(d.A,{status:"Draft"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-002"}),(0,r.jsx)(n.td,{children:"User authentication"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(l.A,{priority:"Must Have"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(d.A,{status:"Draft"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-003"}),(0,r.jsx)(n.td,{children:"Session management"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(l.A,{priority:"Must Have"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(d.A,{status:"Draft"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-004"}),(0,r.jsx)(n.td,{children:"User profile management"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(l.A,{priority:"Should Have"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(d.A,{status:"Draft"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-005"}),(0,r.jsx)(n.td,{children:"Password management"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(l.A,{priority:"Should Have"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(d.A,{status:"Draft"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-006"}),(0,r.jsx)(n.td,{children:"Account deletion"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(l.A,{priority:"Should Have"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(d.A,{status:"Draft"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-007"}),(0,r.jsx)(n.td,{children:"Security policies"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(l.A,{priority:"Must Have"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(d.A,{status:"Draft"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fr-uid-001-user-registration",children:"FR-UID-001: User registration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Priority:"})," ",(0,r.jsx)(l.A,{priority:"Must Have"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nUsers must be able to create a new account by registering with a unique username, email address, and password.\nRegistration creates a user identity that serves as the foundation for all personalized features across the system."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Preconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User must not yet be registered"}),"\n",(0,r.jsx)(n.li,{children:"Registration endpoint must be accessible"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Postconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"New User aggregate is created"}),"\n",(0,r.jsx)(n.li,{children:"User credentials are securely stored"}),"\n",(0,r.jsx)(n.li,{children:"UserRegistered event is published"}),"\n",(0,r.jsx)(n.li,{children:"User is authenticated (logged in) automatically"}),"\n",(0,r.jsx)(n.li,{children:"Default resources are initialized (dashboard, task list, calendar, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Username must be unique across the system"}),"\n",(0,r.jsx)(n.li,{children:"Username must be 3-30 characters, alphanumeric plus underscore/hyphen"}),"\n",(0,r.jsx)(n.li,{children:"Email must be valid format and unique"}),"\n",(0,r.jsx)(n.li,{children:"Password must meet complexity requirements (min 8 characters, at least one uppercase, one lowercase, one digit)"}),"\n",(0,r.jsx)(n.li,{children:"Registration must be atomic (user creation and credential storage)"}),"\n",(0,r.jsx)(n.li,{children:"User account is active immediately upon registration (no email verification in MVP)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User roles:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Anonymous User (pre-registration)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related to:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value\nDelivery)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Aggregates: User (root)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events: UserRegistered"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dependencies:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"None (foundational context)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Acceptance criteria:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User can register with username, email, and password"}),"\n",(0,r.jsx)(n.li,{children:"Username is validated for uniqueness"}),"\n",(0,r.jsx)(n.li,{children:"Email is validated for format and uniqueness"}),"\n",(0,r.jsx)(n.li,{children:"Password is validated for complexity"}),"\n",(0,r.jsx)(n.li,{children:"User credentials are hashed before storage"}),"\n",(0,r.jsx)(n.li,{children:"UserRegistered event is published with userId"}),"\n",(0,r.jsx)(n.li,{children:"User is automatically logged in after registration"}),"\n",(0,r.jsx)(n.li,{children:"Registration failures show appropriate error messages"}),"\n",(0,r.jsx)(n.li,{children:"Duplicate username/email is rejected"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User stories:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"US-UID-001-001: Register with valid credentials"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-001-002: Reject duplicate username"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-001-003: Reject invalid password"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-001-004: Auto-login after registration"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenarios",children:"Scenarios"}),"\n",(0,r.jsx)(n.h5,{id:"scenario-1-register-with-valid-credentials-happy-path",children:"Scenario 1: Register with valid credentials (happy path)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is on the registration page\nWhen the user enters username "john_doe"\nAnd enters email "john@example.com"\nAnd enters password "SecurePass123"\nAnd confirms password "SecurePass123"\nAnd submits the registration form\nThen a new User aggregate is created\nAnd the password is hashed using bcrypt\nAnd credentials are stored securely\nAnd a UserRegistered event is published\nAnd the user is automatically logged in\nAnd redirected to the dashboard\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-2-reject-duplicate-username",children:"Scenario 2: Reject duplicate username"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user "alice_smith" already exists\nWhen a new user attempts to register with username "alice_smith"\nAnd enters email "alice2@example.com"\nAnd enters password "SecurePass123"\nAnd submits the registration form\nThen validation fails\nAnd an error message indicates "Username already taken"\nAnd the user is not created\nAnd no UserRegistered event is published\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-3-reject-duplicate-email",children:"Scenario 3: Reject duplicate email"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user with email "john@example.com" already exists\nWhen a new user attempts to register with different username\nBut same email "john@example.com"\nAnd submits the registration form\nThen validation fails\nAnd an error message indicates "Email already registered"\nAnd the user is not created\nAnd no UserRegistered event is published\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-4-reject-invalid-password-too-short",children:"Scenario 4: Reject invalid password (too short)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is registering\nWhen the user enters password "Pass1" (only 5 characters)\nAnd submits the registration form\nThen validation fails\nAnd an error message indicates "Password must be at least 8 characters"\nAnd the user is not created\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-5-reject-invalid-password-missing-complexity",children:"Scenario 5: Reject invalid password (missing complexity)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is registering\nWhen the user enters password "password123" (no uppercase)\nAnd submits the registration form\nThen validation fails\nAnd an error message indicates "Password must contain uppercase, lowercase, and digit"\nAnd the user is not created\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-6-password-confirmation-mismatch",children:"Scenario 6: Password confirmation mismatch"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is registering\nWhen the user enters password "SecurePass123"\nAnd confirms with "SecurePass456" (different)\nAnd submits the registration form\nThen validation fails\nAnd an error message indicates "Passwords do not match"\nAnd the user is not created\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-7-invalid-email-format",children:"Scenario 7: Invalid email format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is registering\nWhen the user enters email "invalid-email" (no @ or domain)\nAnd submits the registration form\nThen validation fails\nAnd an error message indicates "Invalid email format"\nAnd the user is not created\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-8-username-with-invalid-characters",children:"Scenario 8: Username with invalid characters"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is registering\nWhen the user enters username "john@doe!" (contains @ and !)\nAnd submits the registration form\nThen validation fails\nAnd an error message indicates "Username can only contain letters, numbers, underscore, and hyphen"\nAnd the user is not created\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Technical notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use bcrypt (or Argon2) for password hashing with an appropriate cost factor"}),"\n",(0,r.jsx)(n.li,{children:"Implement rate limiting on registration endpoint to prevent abuse"}),"\n",(0,r.jsx)(n.li,{children:"Username and email uniqueness checks should use database constraints"}),"\n",(0,r.jsx)(n.li,{children:"Store userId as UUID or strongly typed identifier"}),"\n",(0,r.jsx)(n.li,{children:"Ensure HTTPS for registration endpoint"}),"\n",(0,r.jsx)(n.li,{children:"Consider implementing CAPTCHA for bot prevention (future)"}),"\n",(0,r.jsx)(n.li,{children:"Log registration attempts for security monitoring"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Open questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should email verification be required before account activation?"}),"\n",(0,r.jsx)(n.li,{children:"Should there be a waiting period before the username can be reused if an account is deleted?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fr-uid-002-user-authentication",children:"FR-UID-002: User authentication"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Priority:"})," ",(0,r.jsx)(l.A,{priority:"Must Have"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nUsers must be able to authenticate (log in) using their registered credentials (username or email and password).\nSuccessful authentication establishes a session that grants access to personalized features across the system."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Preconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User must be registered"}),"\n",(0,r.jsx)(n.li,{children:"User account must be active (not deleted or suspended)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Postconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User credentials are validated"}),"\n",(0,r.jsx)(n.li,{children:"Session is created with session token"}),"\n",(0,r.jsx)(n.li,{children:"UserLoggedIn event is published"}),"\n",(0,r.jsx)(n.li,{children:"User is granted access to protected resources"}),"\n",(0,r.jsx)(n.li,{children:"Session token is returned to the client"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Users can log in with username or email (both accepted)"}),"\n",(0,r.jsx)(n.li,{children:"Password must match stored hashed credential"}),"\n",(0,r.jsx)(n.li,{children:"Failed login attempts are logged for security monitoring"}),"\n",(0,r.jsx)(n.li,{children:"Account lockout after N failed attempts (e.g., 5) to prevent brute force"}),"\n",(0,r.jsx)(n.li,{children:"Successful login resets failed attempt counter"}),"\n",(0,r.jsx)(n.li,{children:"Session token is generated using secure random algorithm"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User roles:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Registered User (unauthenticated)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related to:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value\nDelivery)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Aggregates: User (root), Session"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events: UserLoggedIn"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dependencies:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FR-UID-001 (User must be registered)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Acceptance criteria:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User can log in with username and password"}),"\n",(0,r.jsx)(n.li,{children:"User can log in with email and password"}),"\n",(0,r.jsx)(n.li,{children:"Password is verified against hashed credential"}),"\n",(0,r.jsx)(n.li,{children:"Successful login creates session and returns token"}),"\n",(0,r.jsx)(n.li,{children:"UserLoggedIn event is published with userId"}),"\n",(0,r.jsx)(n.li,{children:"Failed login shows generic error (security best practice)"}),"\n",(0,r.jsx)(n.li,{children:"Multiple failed attempts trigger account lockout"}),"\n",(0,r.jsx)(n.li,{children:"Locked account shows appropriate message"}),"\n",(0,r.jsx)(n.li,{children:"Session token is returned in secure HTTP-only cookie or response body"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User stories:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"US-UID-002-001: Login with valid credentials"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-002-002: Login with email instead of username"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-002-003: Reject invalid password"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-002-004: Account lockout after failed attempts"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenarios-1",children:"Scenarios"}),"\n",(0,r.jsx)(n.h5,{id:"scenario-1-login-with-valid-credentials-happy-path",children:"Scenario 1: Login with valid credentials (happy path)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user "john_doe" is registered\nWhen the user navigates to the login page\nAnd enters username "john_doe"\nAnd enters password "SecurePass123"\nAnd submits the login form\nThen the password is verified against stored hash\nAnd authentication succeeds\nAnd a session is created with unique session token\nAnd a UserLoggedIn event is published\nAnd the user is redirected to the dashboard\nAnd session token is stored in HTTP-only cookie\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-2-login-with-email-instead-of-username",children:"Scenario 2: Login with email instead of username"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is registered with email "john@example.com"\nWhen the user enters email "john@example.com"\nAnd enters correct password\nAnd submits the login form\nThen authentication succeeds\nAnd the user is logged in\nAnd a UserLoggedIn event is published\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-3-reject-invalid-password",children:"Scenario 3: Reject invalid password"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user "john_doe" is registered\nWhen the user enters username "john_doe"\nAnd enters incorrect password "WrongPass456"\nAnd submits the login form\nThen authentication fails\nAnd an error message "Invalid username or password" is displayed\nAnd failed attempt is logged\nAnd no session is created\nAnd no UserLoggedIn event is published\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-4-generic-error-for-non-existent-user",children:"Scenario 4: Generic error for non-existent user"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given no user exists with username "unknown_user"\nWhen the user attempts to login with "unknown_user"\nAnd enters any password\nAnd submits the login form\nThen authentication fails\nAnd the same error message "Invalid username or password" is displayed\nAnd no distinction is made between invalid username vs. password\nAnd failed attempt is logged\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-5-account-lockout-after-failed-attempts",children:"Scenario 5: Account lockout after failed attempts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user "john_doe" is registered\nAnd the user has made 4 failed login attempts\nWhen the user makes a 5th failed login attempt\nThen authentication fails\nAnd the account is locked for 15 minutes\nAnd an error message "Account temporarily locked. Please try again in 15 minutes" is displayed\nAnd the lockout is logged for security monitoring\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-6-successful-login-resets-failed-attempt-counter",children:"Scenario 6: Successful login resets failed attempt counter"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user "john_doe" has made 3 failed login attempts\nWhen the user successfully logs in with correct password\nThen authentication succeeds\nAnd the failed attempt counter is reset to 0\nAnd the user can continue normally\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-7-login-attempt-during-lockout-period",children:"Scenario 7: Login attempt during lockout period"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user "john_doe" is locked out due to failed attempts\nAnd the lockout period has not expired\nWhen the user attempts to login with correct password\nThen authentication is denied\nAnd an error message "Account temporarily locked" is displayed\nAnd no session is created\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-8-login-after-lockout-period-expires",children:"Scenario 8: Login after lockout period expires"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user "john_doe" was locked out\nAnd the 15-minute lockout period has expired\nWhen the user attempts to login with correct password\nThen authentication succeeds\nAnd the lockout is lifted\nAnd the user is logged in normally\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Technical notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use constant-time comparison for password verification to prevent timing attacks"}),"\n",(0,r.jsx)(n.li,{children:"Implement rate limiting on login endpoint (e.g., max 10 attempts per minute per IP)"}),"\n",(0,r.jsx)(n.li,{children:"Store session tokens securely (HTTP-only, Secure, SameSite cookies)"}),"\n",(0,r.jsx)(n.li,{children:"Use JWT or opaque tokens for session management"}),"\n",(0,r.jsx)(n.li,{children:"Log all login attempts (success and failure) with IP address and timestamp"}),"\n",(0,r.jsx)(n.li,{children:"Implement account lockout with exponential backoff (future enhancement)"}),"\n",(0,r.jsx)(n.li,{children:'Consider implementing "Remember Me" functionality with long-lived refresh tokens (future)'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Open questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should there be multi-factor authentication (MFA) support?"}),"\n",(0,r.jsx)(n.li,{children:"Should there be device tracking/recognition?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fr-uid-003-session-management",children:"FR-UID-003: Session management"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Priority:"})," ",(0,r.jsx)(l.A,{priority:"Must Have"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nThe system must manage user sessions to maintain authenticated state across requests. Sessions have a lifecycle\nincluding creation, validation, refresh, and expiration. Users can have multiple concurrent sessions (e.g., different\ndevices/browsers) and can log out to terminate sessions."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Preconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User must be authenticated"}),"\n",(0,r.jsx)(n.li,{children:"Session must be created after successful login"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Postconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Session is created, validated, or terminated"}),"\n",(0,r.jsx)(n.li,{children:"Session expiration is enforced"}),"\n",(0,r.jsx)(n.li,{children:"UserLoggedOut event is published on logout"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sessions expire after inactivity (e.g., 30 minutes idle)"}),"\n",(0,r.jsx)(n.li,{children:"Sessions have absolute expiration (e.g., 24 hours from creation)"}),"\n",(0,r.jsx)(n.li,{children:"Users can have multiple concurrent sessions"}),"\n",(0,r.jsx)(n.li,{children:"Logout terminates the current session only"}),"\n",(0,r.jsx)(n.li,{children:"Expired sessions are cleaned up automatically"}),"\n",(0,r.jsx)(n.li,{children:"Session tokens are invalidated on logout"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User roles:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Authenticated User"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related to:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Requirements: BR-001 (Portfolio Enhancement), BR-003 (Technical Excellence), BR-005 (User Value Delivery)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Aggregates: Session, User"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events: UserLoggedIn, UserLoggedOut"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dependencies:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FR-UID-002 (User must be authenticated)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Acceptance criteria:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Session is created on successful login"}),"\n",(0,r.jsx)(n.li,{children:"Session token is required for accessing protected resources"}),"\n",(0,r.jsx)(n.li,{children:"Session is validated on each request"}),"\n",(0,r.jsx)(n.li,{children:"Expired sessions are rejected with 401 Unauthorized"}),"\n",(0,r.jsx)(n.li,{children:"User can log out to terminate session"}),"\n",(0,r.jsx)(n.li,{children:"UserLoggedOut event is published on logout"}),"\n",(0,r.jsx)(n.li,{children:"Multiple concurrent sessions are supported"}),"\n",(0,r.jsx)(n.li,{children:"Session cleanup job removes expired sessions"}),"\n",(0,r.jsx)(n.li,{children:"Session inactivity timeout is enforced"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User stories:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"US-UID-003-001: Create session on login"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-003-002: Validate session on protected request"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-003-003: Logout and terminate session"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-003-004: Session expires after inactivity"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenarios-2",children:"Scenarios"}),"\n",(0,r.jsx)(n.h5,{id:"scenario-1-create-session-on-login-happy-path",children:"Scenario 1: Create session on login (happy path)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user successfully logs in\nWhen authentication completes\nThen a new session is created\nAnd a unique session token is generated\nAnd session includes userId, createdAt, lastAccessedAt\nAnd session token is returned to client\nAnd session is stored in session store (database or Redis)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-2-validate-session-on-protected-request",children:"Scenario 2: Validate session on protected request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user has an active session\nWhen the user makes a request to a protected resource\nAnd provides session token in Authorization header\nThen the session is validated\nAnd userId is extracted from session\nAnd lastAccessedAt is updated\nAnd the request is authorized\nAnd the protected resource is returned\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-3-reject-expired-session-inactivity-timeout",children:"Scenario 3: Reject expired session (inactivity timeout)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user has a session\nAnd the session was last accessed 35 minutes ago\nAnd inactivity timeout is 30 minutes\nWhen the user makes a request with the session token\nThen session validation fails\nAnd 401 Unauthorized is returned\nAnd an error message "Session expired. Please log in again" is displayed\nAnd the session is marked as expired\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-4-reject-expired-session-absolute-timeout",children:"Scenario 4: Reject expired session (absolute timeout)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user has a session created 25 hours ago\nAnd absolute timeout is 24 hours\nWhen the user makes a request with the session token\nThen session validation fails\nAnd 401 Unauthorized is returned\nAnd the session is marked as expired\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-5-logout-and-terminate-session",children:"Scenario 5: Logout and terminate session"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is logged in with active session\nWhen the user clicks "Logout"\nThen the current session is terminated\nAnd the session token is invalidated\nAnd a UserLoggedOut event is published\nAnd the user is redirected to login page\nAnd session is removed from session store\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-6-multiple-concurrent-sessions",children:"Scenario 6: Multiple concurrent sessions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user logs in from desktop browser\nAnd a session "Session-A" is created\nWhen the same user logs in from mobile browser\nThen a second session "Session-B" is created\nAnd both sessions are active concurrently\nAnd logging out from one device does not affect the other\nAnd each session is independent\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-7-session-cleanup-job-removes-expired-sessions",children:"Scenario 7: Session cleanup job removes expired sessions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given multiple expired sessions exist in session store\nWhen the session cleanup job runs (e.g., hourly)\nThen all sessions with lastAccessedAt > 30 minutes ago are deleted\nAnd all sessions with createdAt > 24 hours ago are deleted\nAnd active sessions remain unaffected\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-8-session-refresh-on-activity",children:"Scenario 8: Session refresh on activity"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user has a session last accessed 20 minutes ago\nWhen the user makes a request (e.g., views dashboard)\nThen the session is validated\nAnd lastAccessedAt is updated to current timestamp\nAnd inactivity timeout is reset\nAnd the session remains active\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Technical notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use Redis or in-memory cache for session storage (performance)"}),"\n",(0,r.jsx)(n.li,{children:"Implement session token as JWT (stateless) or opaque token (stateful)"}),"\n",(0,r.jsx)(n.li,{children:"If using JWT, store refresh tokens separately for rotation"}),"\n",(0,r.jsx)(n.li,{children:"Implement session cleanup scheduled job (e.g., cron, Spring @Scheduled)"}),"\n",(0,r.jsx)(n.li,{children:"Use secure random for session token generation"}),"\n",(0,r.jsx)(n.li,{children:"Store session with TTL (time-to-live) in Redis for automatic expiration"}),"\n",(0,r.jsx)(n.li,{children:"Consider implementing session fingerprinting for security (future)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Open questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should there be a maximum number of concurrent sessions per user?"}),"\n",(0,r.jsx)(n.li,{children:"Should users be able to view and revoke active sessions?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fr-uid-004-user-profile-management",children:"FR-UID-004: User profile management"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Priority:"})," ",(0,r.jsx)(l.A,{priority:"Should Have"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nUsers should be able to view and update basic profile information including display name, email, and username. Profile\nmanagement provides users control over their identity within the system."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Preconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User must be authenticated"}),"\n",(0,r.jsx)(n.li,{children:"User must have active session"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Postconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User profile is updated"}),"\n",(0,r.jsx)(n.li,{children:"Changes are persisted"}),"\n",(0,r.jsx)(n.li,{children:"UserUpdated event is published (if needed)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Display name is optional, length-bounded (1-100 characters)"}),"\n",(0,r.jsx)(n.li,{children:"Email must be unique and valid format"}),"\n",(0,r.jsx)(n.li,{children:"Username changes must maintain uniqueness"}),"\n",(0,r.jsx)(n.li,{children:"Password changes require current password verification"}),"\n",(0,r.jsx)(n.li,{children:"Profile changes are atomic (all or nothing)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User roles:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Authenticated User"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related to:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Requirements: BR-001 (Portfolio Enhancement), BR-002 (User Productivity Enhancement), BR-005 (User Value\nDelivery)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Aggregates: User (root)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events: UserUpdated"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dependencies:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FR-UID-002 (User must be authenticated)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Acceptance criteria:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User can view current profile information"}),"\n",(0,r.jsx)(n.li,{children:"User can update display name"}),"\n",(0,r.jsx)(n.li,{children:"User can update email (with uniqueness validation)"}),"\n",(0,r.jsx)(n.li,{children:"User can update username (with uniqueness validation)"}),"\n",(0,r.jsx)(n.li,{children:"Changes are validated before saving"}),"\n",(0,r.jsx)(n.li,{children:"Profile updates are persisted"}),"\n",(0,r.jsx)(n.li,{children:"UserUpdated event is published"}),"\n",(0,r.jsx)(n.li,{children:"Invalid updates show appropriate error messages"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User stories:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"US-UID-004-001: View user profile"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-004-002: Update display name"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-004-003: Update email"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-004-004: Update username"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenarios-3",children:"Scenarios"}),"\n",(0,r.jsx)(n.h5,{id:"scenario-1-view-user-profile-happy-path",children:"Scenario 1: View user profile (happy path)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user is authenticated\nWhen the user navigates to profile settings\nThen the profile page displays current username\nAnd displays current email\nAnd displays current display name (if set)\nAnd displays account creation date\nAnd displays last login date\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-2-update-display-name",children:"Scenario 2: Update display name"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is viewing their profile\nWhen the user changes display name from "John" to "John Doe"\nAnd saves changes\nThen the display name is updated to "John Doe"\nAnd a UserUpdated event is published\nAnd a success message "Profile updated successfully" is displayed\nAnd the new display name appears throughout the application\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-3-update-email-with-validation",children:"Scenario 3: Update email with validation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is viewing their profile\nWhen the user changes email from "john@example.com" to "john.doe@example.com"\nAnd the new email is unique\nAnd saves changes\nThen the email is validated for format\nAnd checked for uniqueness\nAnd updated to "john.doe@example.com"\nAnd a UserUpdated event is published\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-4-reject-duplicate-email",children:"Scenario 4: Reject duplicate email"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given another user already has email "alice@example.com"\nWhen the current user attempts to change email to "alice@example.com"\nAnd saves changes\nThen validation fails\nAnd an error message "Email already in use" is displayed\nAnd the email is not updated\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-5-update-username-with-validation",children:"Scenario 5: Update username with validation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user\'s current username is "john_doe"\nWhen the user changes username to "john_d"\nAnd the new username is unique\nAnd saves changes\nThen the username is validated for format and uniqueness\nAnd updated to "john_d"\nAnd a UserUpdated event is published\nAnd the user remains logged in\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-6-cancel-profile-changes",children:"Scenario 6: Cancel profile changes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user has made changes to profile\nWhen the user clicks "Cancel"\nThen changes are discarded\nAnd profile reverts to previous values\nAnd no UserUpdated event is published\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Technical notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Implement optimistic locking for concurrent profile updates"}),"\n",(0,r.jsx)(n.li,{children:"Email changes may require re-verification (future enhancement)"}),"\n",(0,r.jsx)(n.li,{children:"Username changes should be logged for security audit"}),"\n",(0,r.jsx)(n.li,{children:"Consider implementing username change cooldown (e.g., once per 30 days)"}),"\n",(0,r.jsx)(n.li,{children:"Profile updates should use PATCH semantics (partial updates)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Open questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should email changes require verification of new email?"}),"\n",(0,r.jsx)(n.li,{children:"Should username changes be restricted or have cooldown period?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fr-uid-005-password-management",children:"FR-UID-005: Password management"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Priority:"})," ",(0,r.jsx)(l.A,{priority:"Should Have"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nUsers should be able to change their password by providing current password and new password. Password changes enhance\nsecurity and allow users to update compromised credentials."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Preconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User must be authenticated"}),"\n",(0,r.jsx)(n.li,{children:"User must have active session"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Postconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Password is changed"}),"\n",(0,r.jsx)(n.li,{children:"New password hash is stored"}),"\n",(0,r.jsx)(n.li,{children:"PasswordChanged event is published"}),"\n",(0,r.jsx)(n.li,{children:"All other sessions are optionally invalidated (security best practice)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Current password must be verified before change"}),"\n",(0,r.jsx)(n.li,{children:"New password must meet complexity requirements"}),"\n",(0,r.jsx)(n.li,{children:"New password must be different from current password"}),"\n",(0,r.jsx)(n.li,{children:"Password change invalidates all other sessions (optional)"}),"\n",(0,r.jsx)(n.li,{children:"Password changes are logged for security audit"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User roles:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Authenticated User"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related to:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Requirements: BR-001 (Portfolio Enhancement), BR-003 (Technical Excellence), BR-005 (User Value Delivery)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Aggregates: User (root)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events: PasswordChanged"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dependencies:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FR-UID-002 (User must be authenticated)"}),"\n",(0,r.jsx)(n.li,{children:"FR-UID-007 (Security policies)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Acceptance criteria:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User can access password change form"}),"\n",(0,r.jsx)(n.li,{children:"Current password is required and verified"}),"\n",(0,r.jsx)(n.li,{children:"New password must meet complexity requirements"}),"\n",(0,r.jsx)(n.li,{children:"New password cannot be same as current password"}),"\n",(0,r.jsx)(n.li,{children:"Password change succeeds with valid inputs"}),"\n",(0,r.jsx)(n.li,{children:"Password hash is updated in storage"}),"\n",(0,r.jsx)(n.li,{children:"PasswordChanged event is published"}),"\n",(0,r.jsx)(n.li,{children:"User is notified of successful password change"}),"\n",(0,r.jsx)(n.li,{children:"Other sessions are invalidated (optional)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User stories:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"US-UID-005-001: Change password successfully"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-005-002: Reject incorrect current password"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-005-003: Reject weak new password"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-005-004: Other sessions invalidated after password change"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenarios-4",children:"Scenarios"}),"\n",(0,r.jsx)(n.h5,{id:"scenario-1-change-password-successfully-happy-path",children:"Scenario 1: Change password successfully (happy path)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is authenticated\nWhen the user navigates to password change form\nAnd enters current password "OldPass123"\nAnd enters new password "NewSecurePass456"\nAnd confirms new password "NewSecurePass456"\nAnd submits the form\nThen current password is verified\nAnd new password is validated for complexity\nAnd new password hash is generated\nAnd password is updated in storage\nAnd a PasswordChanged event is published\nAnd a success message "Password changed successfully" is displayed\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-2-reject-incorrect-current-password",children:"Scenario 2: Reject incorrect current password"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is changing password\nWhen the user enters incorrect current password\nAnd enters valid new password\nAnd submits the form\nThen current password verification fails\nAnd an error message "Current password is incorrect" is displayed\nAnd the password is not changed\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-3-reject-weak-new-password",children:"Scenario 3: Reject weak new password"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is changing password\nWhen the user enters correct current password\nAnd enters weak new password "pass123" (no uppercase)\nAnd submits the form\nThen password complexity validation fails\nAnd an error message "Password must contain uppercase, lowercase, and digit" is displayed\nAnd the password is not changed\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-4-reject-same-password",children:"Scenario 4: Reject same password"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is changing password\nWhen the user enters current password "SecurePass123"\nAnd enters new password "SecurePass123" (same)\nAnd submits the form\nThen validation fails\nAnd an error message "New password must be different from current password" is displayed\nAnd the password is not changed\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-5-password-confirmation-mismatch",children:"Scenario 5: Password confirmation mismatch"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is changing password\nWhen the user enters valid current password\nAnd enters new password "NewPass123"\nAnd confirms with "NewPass456" (different)\nAnd submits the form\nThen validation fails\nAnd an error message "Passwords do not match" is displayed\nAnd the password is not changed\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-6-invalidate-other-sessions-after-password-change",children:"Scenario 6: Invalidate other sessions after password change"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user has 3 active sessions (desktop, mobile, tablet)\nWhen the user changes password from desktop session\nThen the password is changed successfully\nAnd all sessions except current (desktop) are invalidated\nAnd mobile and tablet devices are logged out\nAnd must re-authenticate with new password\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Technical notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use same password hashing algorithm as registration (bcrypt/Argon2)"}),"\n",(0,r.jsx)(n.li,{children:"Implement password history to prevent reuse of recent passwords (future)"}),"\n",(0,r.jsx)(n.li,{children:"Log password changes with timestamp and IP address"}),"\n",(0,r.jsx)(n.li,{children:"Consider sending email notification of password change"}),"\n",(0,r.jsx)(n.li,{children:"Implement rate limiting on password change endpoint"}),"\n",(0,r.jsx)(n.li,{children:"Current password verification should use constant-time comparison"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Open questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should there be a password change cooldown period?"}),"\n",(0,r.jsx)(n.li,{children:"Should password history be enforced (e.g., cannot reuse last 5 passwords)?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fr-uid-006-account-deletion",children:"FR-UID-006: Account deletion"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Priority:"})," ",(0,r.jsx)(l.A,{priority:"Should Have"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nUsers should be able to delete their account permanently. Account deletion removes all user data and is irreversible.\nThis feature provides users control over their data and complies with privacy regulations."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Preconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User must be authenticated"}),"\n",(0,r.jsx)(n.li,{children:"User must confirm deletion intent (confirmation dialog)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Postconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User account is marked as deleted"}),"\n",(0,r.jsx)(n.li,{children:"UserDeleted event is published"}),"\n",(0,r.jsx)(n.li,{children:"All user data across contexts is deleted (cascade)"}),"\n",(0,r.jsx)(n.li,{children:"User is logged out"}),"\n",(0,r.jsx)(n.li,{children:"All sessions are invalidated"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Account deletion requires password confirmation"}),"\n",(0,r.jsx)(n.li,{children:"Deletion is permanent and irreversible (hard delete in MVP)"}),"\n",(0,r.jsx)(n.li,{children:"UserDeleted event triggers cleanup in all bounded contexts"}),"\n",(0,r.jsx)(n.li,{children:"All user-related data is deleted (cascade)"}),"\n",(0,r.jsx)(n.li,{children:"Deleted usernames can be registered again after grace period (optional)"}),"\n",(0,r.jsx)(n.li,{children:"Account deletion is logged for audit"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User roles:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Authenticated User"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related to:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Requirements: BR-001 (Portfolio Enhancement), BR-005 (User Value Delivery)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Aggregates: User (root)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events: UserDeleted"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dependencies:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FR-UID-002 (User must be authenticated)"}),"\n",(0,r.jsx)(n.li,{children:"All other contexts (must handle UserDeleted event)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Acceptance criteria:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User can access account deletion option"}),"\n",(0,r.jsx)(n.li,{children:"Deletion requires password confirmation"}),"\n",(0,r.jsx)(n.li,{children:"Confirmation dialog warns of permanent deletion"}),"\n",(0,r.jsx)(n.li,{children:"User account is deleted on confirmation"}),"\n",(0,r.jsx)(n.li,{children:"UserDeleted event is published with userId"}),"\n",(0,r.jsx)(n.li,{children:"User is logged out immediately"}),"\n",(0,r.jsx)(n.li,{children:"All sessions are invalidated"}),"\n",(0,r.jsx)(n.li,{children:"User cannot log in with deleted account"}),"\n",(0,r.jsx)(n.li,{children:"Deletion is logged for audit"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User stories:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"US-UID-006-001: Delete account successfully"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-006-002: Reject deletion with incorrect password"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-006-003: Cancel account deletion"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-006-004: Cannot log in after deletion"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenarios-5",children:"Scenarios"}),"\n",(0,r.jsx)(n.h5,{id:"scenario-1-delete-account-successfully-happy-path",children:"Scenario 1: Delete account successfully (happy path)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is authenticated\nWhen the user navigates to account settings\nAnd clicks "Delete Account"\nThen a confirmation dialog appears\nAnd warns "This action is permanent and cannot be undone"\nAnd the user enters password for confirmation\nAnd confirms deletion\nThen the password is verified\nAnd the user account is deleted\nAnd a UserDeleted event is published\nAnd the user is logged out\nAnd all sessions are invalidated\nAnd the user is redirected to goodbye page\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-2-reject-deletion-with-incorrect-password",children:"Scenario 2: Reject deletion with incorrect password"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is attempting to delete account\nWhen the user enters incorrect password in confirmation dialog\nAnd confirms deletion\nThen password verification fails\nAnd an error message "Incorrect password" is displayed\nAnd account deletion is aborted\nAnd the user remains logged in\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-3-cancel-account-deletion",children:"Scenario 3: Cancel account deletion"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user has opened account deletion confirmation dialog\nWhen the user clicks "Cancel"\nThen the dialog is closed\nAnd no account deletion occurs\nAnd no UserDeleted event is published\nAnd the user remains logged in\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-4-cannot-log-in-after-deletion",children:"Scenario 4: Cannot log in after deletion"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user has deleted their account\nWhen the user attempts to log in with previous credentials\nThen authentication fails\nAnd an error message "Invalid username or password" is displayed\nAnd no session is created\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-5-cascading-deletion-across-contexts",children:"Scenario 5: Cascading deletion across contexts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user has data in multiple contexts (dashboards, tasks, bookmarks, calendar)\nWhen the user deletes their account\nThen a UserDeleted event is published\nAnd Dashboard Management context deletes all dashboards\nAnd Tasks context deletes all tasks\nAnd Bookmarks context deletes all bookmarks\nAnd Calendar context deletes all events\nAnd all user-related data is removed from the system\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-6-account-deletion-is-logged",children:"Scenario 6: Account deletion is logged"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user deletes their account\nWhen deletion completes\nThen the deletion is logged with:\n- Timestamp\n- UserId\n- Username\n- Email\n- IP address\nAnd the log is retained for audit purposes\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Technical notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Implement soft delete with grace period before hard delete (future enhancement)"}),"\n",(0,r.jsx)(n.li,{children:"Use distributed transactions or saga pattern for cross-context cleanup"}),"\n",(0,r.jsx)(n.li,{children:"Ensure UserDeleted event is published reliably (transactional outbox pattern)"}),"\n",(0,r.jsx)(n.li,{children:"Log account deletions with sufficient detail for audit"}),"\n",(0,r.jsx)(n.li,{children:"Consider implementing account deactivation as alternative to deletion (future)"}),"\n",(0,r.jsx)(n.li,{children:"Ensure GDPR/data privacy compliance for deletion process"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Open questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should there be a grace period (e.g., 30 days) before permanent deletion?"}),"\n",(0,r.jsx)(n.li,{children:"Should deleted usernames be reserved to prevent impersonation?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fr-uid-007-security-policies",children:"FR-UID-007: Security policies"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Priority:"})," ",(0,r.jsx)(l.A,{priority:"Must Have"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"}),"\nThe system must enforce security policies to protect user accounts and prevent unauthorized access. Policies include\npassword complexity, account lockout, session security, and audit logging."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Preconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"System is configured with security policies"}),"\n",(0,r.jsx)(n.li,{children:"Policies are enforced on all identity operations"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Postconditions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Security policies are enforced consistently"}),"\n",(0,r.jsx)(n.li,{children:"Violations are logged and handled appropriately"}),"\n",(0,r.jsx)(n.li,{children:"Audit trail is maintained for security events"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Business rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Password complexity: min 8 characters, uppercase, lowercase, digit"}),"\n",(0,r.jsx)(n.li,{children:"Account lockout: 5 failed attempts, 15-minute lockout"}),"\n",(0,r.jsx)(n.li,{children:"Session timeout: 30 minutes inactivity, 24 hours absolute"}),"\n",(0,r.jsx)(n.li,{children:"All security events are logged (login, logout, password change, account deletion)"}),"\n",(0,r.jsx)(n.li,{children:"Passwords are hashed using bcrypt with cost factor 12"}),"\n",(0,r.jsx)(n.li,{children:"Session tokens are securely random (min 32 bytes entropy)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User roles:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"System (policy enforcement)"}),"\n",(0,r.jsx)(n.li,{children:"Authenticated User (subject to policies)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related to:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Business Requirements: BR-001 (Portfolio Enhancement), BR-003 (Technical Excellence)"}),"\n",(0,r.jsx)(n.li,{children:"Domain Aggregates: User (root), Session"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events: All user events"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Dependencies:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"All other FR-UID features (policies apply system-wide)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Acceptance criteria:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Password complexity is enforced on registration and password change"}),"\n",(0,r.jsx)(n.li,{children:"Account lockout is triggered after failed login attempts"}),"\n",(0,r.jsx)(n.li,{children:"Sessions expire according to timeout policies"}),"\n",(0,r.jsx)(n.li,{children:"All passwords are hashed with bcrypt"}),"\n",(0,r.jsx)(n.li,{children:"Session tokens are cryptographically secure"}),"\n",(0,r.jsx)(n.li,{children:"All security events are logged with context"}),"\n",(0,r.jsx)(n.li,{children:"Audit logs are retained for compliance"}),"\n",(0,r.jsx)(n.li,{children:"Security policies are configurable (environment variables)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User stories:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"US-UID-007-001: Enforce password complexity"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-007-002: Enforce account lockout"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-007-003: Enforce session timeout"}),"\n",(0,r.jsx)(n.li,{children:"US-UID-007-004: Audit security events"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenarios-6",children:"Scenarios"}),"\n",(0,r.jsx)(n.h5,{id:"scenario-1-enforce-password-complexity-on-registration",children:"Scenario 1: Enforce password complexity on registration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user is registering\nWhen the user enters password "simple"\nAnd submits registration form\nThen password complexity validation fails\nAnd an error lists requirements: "min 8 chars, uppercase, lowercase, digit"\nAnd registration is rejected\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-2-enforce-account-lockout-after-failed-logins",children:"Scenario 2: Enforce account lockout after failed logins"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Given a user makes 5 consecutive failed login attempts\nWhen the 5th attempt fails\nThen the account is locked for 15 minutes\nAnd an error message "Account locked. Try again in 15 minutes" is displayed\nAnd the lockout is logged\n'})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-3-enforce-session-inactivity-timeout",children:"Scenario 3: Enforce session inactivity timeout"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user has been inactive for 30 minutes\nWhen the user makes a request\nThen the session is expired\nAnd 401 Unauthorized is returned\nAnd the user must log in again\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-4-enforce-session-absolute-timeout",children:"Scenario 4: Enforce session absolute timeout"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user's session was created 24 hours ago\nWhen the user makes a request\nThen the session is expired\nAnd 401 Unauthorized is returned\nAnd the user must log in again\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-5-password-hashing-with-bcrypt",children:"Scenario 5: Password hashing with bcrypt"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user registers or changes password\nWhen the password is stored\nThen bcrypt is used with cost factor 12\nAnd the password hash is stored (not plaintext)\nAnd the hash is verifiable but not reversible\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-6-secure-session-token-generation",children:"Scenario 6: Secure session token generation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a user logs in\nWhen a session token is generated\nThen a cryptographically secure random generator is used\nAnd the token has at least 32 bytes of entropy\nAnd the token is unpredictable\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-7-audit-logging-for-security-events",children:"Scenario 7: Audit logging for security events"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given a security event occurs (login, logout, password change, deletion)\nWhen the event completes\nThen an audit log entry is created with:\n- Timestamp\n- Event type\n- UserId\n- IP address\n- User agent\n- Success/failure status\nAnd the log is persisted for compliance\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scenario-8-configurable-security-policies",children:"Scenario 8: Configurable security policies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"Given security policies are defined in configuration\nWhen the system starts\nThen policies are loaded from environment variables:\n- PASSWORD_MIN_LENGTH=8\n- LOCKOUT_ATTEMPTS=5\n- LOCKOUT_DURATION_MINUTES=15\n- SESSION_INACTIVITY_MINUTES=30\n- SESSION_ABSOLUTE_HOURS=24\nAnd policies are enforced according to configuration\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Technical notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use Spring Security for policy enforcement"}),"\n",(0,r.jsx)(n.li,{children:"Implement custom password validator with configurable rules"}),"\n",(0,r.jsx)(n.li,{children:"Use bcrypt from Spring Security Crypto (BCryptPasswordEncoder)"}),"\n",(0,r.jsx)(n.li,{children:"Use SecureRandom for token generation"}),"\n",(0,r.jsx)(n.li,{children:"Store audit logs in dedicated table or logging system"}),"\n",(0,r.jsx)(n.li,{children:"Implement policy configuration via application.properties or environment variables"}),"\n",(0,r.jsx)(n.li,{children:"Consider implementing intrusion detection/prevention (future)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Open questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should security policies be user-configurable (e.g., longer session timeout)?"}),"\n",(0,r.jsx)(n.li,{children:"Should there be notification of suspicious activity (e.g., login from new location)?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"cross-feature-considerations",children:"Cross-feature considerations"}),"\n",(0,r.jsx)(n.h3,{id:"interactions-between-features",children:"Interactions between features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Registration \u2194 Security Policies:"})," Registration enforces password complexity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication \u2194 Security Policies:"})," Authentication enforces lockout and logging"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Management \u2194 Security Policies:"})," Sessions enforce timeout policies"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password Management \u2194 Security Policies:"})," Password changes enforce complexity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Account Deletion \u2194 All Features:"})," Deletion publishes event consumed by all contexts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"All Features \u2194 Audit Logging:"})," All operations are logged for security"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"shared-business-rules",children:"Shared business rules"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password Security:"})," All passwords must meet complexity requirements and be hashed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Username Uniqueness:"})," Usernames must be unique system-wide"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Email Uniqueness:"})," Emails must be unique system-wide"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Security:"})," All sessions must have timeout policies enforced"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Trail:"})," All security events must be logged"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Atomicity:"})," All user operations must be atomic (all or nothing)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"data-consistency-requirements",children:"Data consistency requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Strong Consistency:"})," User registration, authentication, and deletion require strong consistency"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Consistency:"})," Session operations require strong consistency (token validity)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Consistency:"})," Audit logs must be reliably persisted (transactional)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cross-Context Consistency:"})," UserDeleted event must reliably trigger cleanup in all contexts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password Hashing:"})," Password hashing must be deterministic and consistent"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"business-constraints-impact",children:"Business constraints impact"}),"\n",(0,r.jsx)(n.h3,{id:"bc-001-budget",children:"BC-001: Budget"}),"\n",(0,r.jsx)(n.p,{children:"User Identity must operate within zero-cost infrastructure constraints:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication:"})," Use local authentication (no paid Auth0, Okta, etc.)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Storage:"})," Use free-tier Redis or in-memory cache (Spring Session)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Database:"})," Use free-tier PostgreSQL for user storage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Logging:"})," Use application logs (no paid logging service initially)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"bc-002-timeline",children:"BC-002: Timeline"}),"\n",(0,r.jsx)(n.p,{children:"User Identity is on critical path for MVP (3-6 months):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Must Have features"})," (FR-UID-001, 002, 003, 007) required for MVP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Should Have features"})," (FR-UID-004, 005, 006) can be deferred to post-MVP"]}),"\n",(0,r.jsx)(n.li,{children:"Prioritize basic registration/login/session management"}),"\n",(0,r.jsx)(n.li,{children:"Defer advanced features like profile management and account deletion"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"bc-003-resources",children:"BC-003: Resources"}),"\n",(0,r.jsx)(n.p,{children:"Single-developer constraints affect User Identity:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Leverage Frameworks:"})," Use Spring Security for authentication (avoid custom implementation)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplify Policies:"})," Start with basic password complexity and lockout"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automate Testing:"})," Heavy investment in security testing (password hashing, session management)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Incremental Development:"})," Build registration first, then login, then session management"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"bc-004-technology-stack",children:"BC-004: Technology stack"}),"\n",(0,r.jsx)(n.p,{children:"User Identity aligns with chosen stack:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backend:"})," Spring Boot with Spring Security for authentication/authorization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password Hashing:"})," BCryptPasswordEncoder from Spring Security"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Management:"})," Spring Session with Redis or in-memory"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Database:"})," PostgreSQL for user and audit storage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Events:"})," Spring Events initially; design for future Kafka/RabbitMQ migration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing:"})," JUnit, Mockito for unit tests; TestContainers for integration tests"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"success-metrics-alignment",children:"Success metrics alignment"}),"\n",(0,r.jsx)(n.p,{children:"User Identity contributes to the following success metrics from BR-001 through BR-008:"}),"\n",(0,r.jsx)(n.h3,{id:"br-003-technical-metrics",children:"BR-003: Technical metrics"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Metric"}),(0,r.jsx)(n.th,{children:"Target"}),(0,r.jsx)(n.th,{children:"User Identity contribution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"API Response Time"})}),(0,r.jsx)(n.td,{children:"< 200ms (p95)"}),(0,r.jsx)(n.td,{children:"Fast authentication, session validation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Security Vulnerabilities"})}),(0,r.jsx)(n.td,{children:"Zero Critical"}),(0,r.jsx)(n.td,{children:"Proper password hashing, secure session management"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Test Coverage"})}),(0,r.jsx)(n.td,{children:"> 80%"}),(0,r.jsx)(n.td,{children:"Comprehensive security testing for all FR-UID features"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"br-001-portfolio-quality-metrics",children:"BR-001: Portfolio quality metrics"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Metric"}),(0,r.jsx)(n.th,{children:"Target"}),(0,r.jsx)(n.th,{children:"User Identity contribution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Architecture Documentation"})}),(0,r.jsx)(n.td,{children:"All views complete"}),(0,r.jsx)(n.td,{children:"User aggregate design, authentication flow, security policies"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Code Quality Score"})}),(0,r.jsx)(n.td,{children:"No critical issues"}),(0,r.jsx)(n.td,{children:"Clean authentication code, proper security practices"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"br-002-br-005-user-experience-metrics",children:"BR-002, BR-005: User experience metrics"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Metric"}),(0,r.jsx)(n.th,{children:"Target"}),(0,r.jsx)(n.th,{children:"User Identity contribution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Task Completion Rate"})}),(0,r.jsx)(n.td,{children:"> 95%"}),(0,r.jsx)(n.td,{children:"Simple registration, reliable login, clear errors"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Mobile Usability"})}),(0,r.jsx)(n.td,{children:"Fully Responsive"}),(0,r.jsx)(n.td,{children:"Responsive login/registration forms"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Accessibility Score"})}),(0,r.jsx)(n.td,{children:"WCAG 2.1 Level AA"}),(0,r.jsx)(n.td,{children:"Accessible forms, clear error messages"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"traceability-matrix",children:"Traceability matrix"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Business Req"}),(0,r.jsx)(n.th,{children:"Domain Events"}),(0,r.jsx)(n.th,{children:"User Stories"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-001"}),(0,r.jsx)(n.td,{children:"BR-001, BR-002, BR-005"}),(0,r.jsx)(n.td,{children:"UserRegistered"}),(0,r.jsx)(n.td,{children:"US-UID-001-001/002/003/004"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-002"}),(0,r.jsx)(n.td,{children:"BR-001, BR-002, BR-005"}),(0,r.jsx)(n.td,{children:"UserLoggedIn"}),(0,r.jsx)(n.td,{children:"US-UID-002-001/002/003/004"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-003"}),(0,r.jsx)(n.td,{children:"BR-001, BR-003, BR-005"}),(0,r.jsx)(n.td,{children:"UserLoggedIn, UserLoggedOut"}),(0,r.jsx)(n.td,{children:"US-UID-003-001/002/003/004"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-004"}),(0,r.jsx)(n.td,{children:"BR-001, BR-002, BR-005"}),(0,r.jsx)(n.td,{children:"UserUpdated"}),(0,r.jsx)(n.td,{children:"US-UID-004-001/002/003/004"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-005"}),(0,r.jsx)(n.td,{children:"BR-001, BR-003, BR-005"}),(0,r.jsx)(n.td,{children:"PasswordChanged"}),(0,r.jsx)(n.td,{children:"US-UID-005-001/002/003/004"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-006"}),(0,r.jsx)(n.td,{children:"BR-001, BR-005"}),(0,r.jsx)(n.td,{children:"UserDeleted"}),(0,r.jsx)(n.td,{children:"US-UID-006-001/002/003/004"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FR-UID-007"}),(0,r.jsx)(n.td,{children:"BR-001, BR-003"}),(0,r.jsx)(n.td,{children:"All user events (policy enforcement)"}),(0,r.jsx)(n.td,{children:"US-UID-007-001/002/003/004"})]})]})]})]})}function j(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},1487:(e,n,s)=>{s.d(n,{A:()=>t});const i={reqStatus:"reqStatus_It10",reqStatusDraft:"reqStatusDraft_r86d",reqStatusReady:"reqStatusReady_vlST",reqStatusDone:"reqStatusDone_Fh10",reqStatusReleased:"reqStatusReleased_cVtA"};var r=s(7259);function t(e){return(0,r.jsx)("span",{className:(n=e.status,i.reqStatus+" "+i[`reqStatus${n}`]),children:e.status||"-"});var n}},4761:(e,n,s)=>{s.d(n,{A:()=>a});const i={reqMetadata:"reqMetadata_OnDx"};var r=s(1487),t=s(7259);function a({status:e,lastUpdated:n}){return(0,t.jsxs)("div",{className:i.reqMetadata,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Status: "}),(0,t.jsx)(r.A,{status:e})]}),n&&(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Last updated"}),": ",(s=n,new Intl.DateTimeFormat("en-US",{dateStyle:"long"}).format(s))]})]});var s}},5739:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(6363);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},6453:(e,n,s)=>{s.d(n,{A:()=>a});const i={priorityLabel:"priorityLabel_hNWY",priorityLabelMustHave:"priorityLabelMustHave_fw2O",priorityLabelShouldHave:"priorityLabelShouldHave_iftn",priorityLabelCouldHave:"priorityLabelCouldHave_Pzg7",priorityLabelWontHave:"priorityLabelWontHave_d7BD"};var r=s(7259);function t(e){const n=e.replaceAll(" ","").replaceAll("'","");return i.priorityLabel+" "+i[`priorityLabel${n}`]}function a(e){return(0,r.jsx)("span",{className:t(e.priority),children:e.priority||"-"})}}}]);